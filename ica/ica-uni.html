<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>11&nbsp; Univariate Visualization – COMP/STAT112 Notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ica/ica-bi.html" rel="next">
<link href="../bw/Cheatsheet3.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-uni.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Zhijun He</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Best Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-tri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-quad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/Zhijun He-Exam1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Exam 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/Zhijun He-Exam2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Exam 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/Solo Project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Solo Project:Australia Fires</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Cheat Sheet</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/Cheatsheet2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Cheatsheet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/Cheatsheet3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">R Data Analysis Cheatsheet for Exam 2</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">In-class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-uni.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/real-ica-spacial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Spatial Visualization Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-effective viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Effective Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-data wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Working with Dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-reshaping data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Reshaping Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-joining data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Joining Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Working with Factors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Working with Strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with data import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Data Import</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-EDA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#univariate-viz" id="toc-univariate-viz" class="nav-link active" data-scroll-target="#univariate-viz"><span class="header-section-number">12</span> 3 Univariate Viz</a>
  <ul class="collapse">
<li><a href="#learning-goals" id="toc-learning-goals" class="nav-link" data-scroll-target="#learning-goals"><span class="header-section-number">12.1</span> Learning Goals</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources"><span class="header-section-number">12.2</span> Additional Resources</a></li>
  <li>
<a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background"><span class="header-section-number">12.3</span> 3.1 Background</a>
  <ul class="collapse">
<li><a href="#importance-of-visualizations" id="toc-importance-of-visualizations" class="nav-link" data-scroll-target="#importance-of-visualizations"><span class="header-section-number">12.3.1</span> 3.1.1 Importance of Visualizations</a></li>
  <li><a href="#components-of-data-graphics" id="toc-components-of-data-graphics" class="nav-link" data-scroll-target="#components-of-data-graphics"><span class="header-section-number">12.3.2</span> 3.1.2 Components of Data Graphics</a></li>
  <li><a href="#ggplot-r-packages" id="toc-ggplot-r-packages" class="nav-link" data-scroll-target="#ggplot-r-packages"><span class="header-section-number">12.3.3</span> 3.1.3 ggplot + R packages</a></li>
  </ul>
</li>
  <li>
<a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">12.4</span> 3.2 Exercises</a>
  <ul class="collapse">
<li><a href="#exercise-1-research-questions" id="toc-exercise-1-research-questions" class="nav-link" data-scroll-target="#exercise-1-research-questions"><span class="header-section-number">12.4.1</span> Exercise 1: Research Questions</a></li>
  <li><a href="#exercise-2-load-tidyverse" id="toc-exercise-2-load-tidyverse" class="nav-link" data-scroll-target="#exercise-2-load-tidyverse"><span class="header-section-number">12.4.2</span> Exercise 2: Load tidyverse</a></li>
  <li><a href="#exercise-3-bar-chart-of-ratings---part-1" id="toc-exercise-3-bar-chart-of-ratings---part-1" class="nav-link" data-scroll-target="#exercise-3-bar-chart-of-ratings---part-1"><span class="header-section-number">12.4.3</span> Exercise 3: Bar Chart of Ratings - Part 1</a></li>
  <li><a href="#exercise-4-bar-chart-of-ratings---part-2" id="toc-exercise-4-bar-chart-of-ratings---part-2" class="nav-link" data-scroll-target="#exercise-4-bar-chart-of-ratings---part-2"><span class="header-section-number">12.4.4</span> Exercise 4: Bar Chart of Ratings - Part 2</a></li>
  <li><a href="#exercise-5-bar-chart-follow-up" id="toc-exercise-5-bar-chart-follow-up" class="nav-link" data-scroll-target="#exercise-5-bar-chart-follow-up"><span class="header-section-number">12.4.5</span> Exercise 5: Bar Chart Follow-up</a></li>
  <li><a href="#exercise-6-sad-bar-chart" id="toc-exercise-6-sad-bar-chart" class="nav-link" data-scroll-target="#exercise-6-sad-bar-chart"><span class="header-section-number">12.4.6</span> Exercise 6: Sad Bar Chart</a></li>
  <li><a href="#exercise-7-a-histogram-of-elevation" id="toc-exercise-7-a-histogram-of-elevation" class="nav-link" data-scroll-target="#exercise-7-a-histogram-of-elevation"><span class="header-section-number">12.4.7</span> Exercise 7: A Histogram of Elevation</a></li>
  <li><a href="#exercise-8-building-histograms---part-1" id="toc-exercise-8-building-histograms---part-1" class="nav-link" data-scroll-target="#exercise-8-building-histograms---part-1"><span class="header-section-number">12.4.8</span> Exercise 8: Building Histograms - Part 1</a></li>
  <li><a href="#exercise-9-building-histograms---part-2" id="toc-exercise-9-building-histograms---part-2" class="nav-link" data-scroll-target="#exercise-9-building-histograms---part-2"><span class="header-section-number">12.4.9</span> Exercise 9: Building Histograms - Part 2</a></li>
  <li><a href="#exercise-10-histogram-follow-up" id="toc-exercise-10-histogram-follow-up" class="nav-link" data-scroll-target="#exercise-10-histogram-follow-up"><span class="header-section-number">12.4.10</span> Exercise 10: Histogram Follow-up</a></li>
  <li><a href="#exercise-11-density-plots" id="toc-exercise-11-density-plots" class="nav-link" data-scroll-target="#exercise-11-density-plots"><span class="header-section-number">12.4.11</span> Exercise 11: Density Plots</a></li>
  <li><a href="#exercise-12-density-plots-vs-histograms" id="toc-exercise-12-density-plots-vs-histograms" class="nav-link" data-scroll-target="#exercise-12-density-plots-vs-histograms"><span class="header-section-number">12.4.12</span> Exercise 12: Density Plots vs Histograms</a></li>
  <li><a href="#exercise-13-code-communication" id="toc-exercise-13-code-communication" class="nav-link" data-scroll-target="#exercise-13-code-communication"><span class="header-section-number">12.4.13</span> Exercise 13: Code = communication</a></li>
  <li><a href="#exercise-14-practice" id="toc-exercise-14-practice" class="nav-link" data-scroll-target="#exercise-14-practice"><span class="header-section-number">12.4.14</span> Exercise 14: Practice</a></li>
  </ul>
</li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-uni.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Univariate Visualization</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="univariate-viz" class="level1" data-number="12"><h1 data-number="12">
<span class="header-section-number">12</span> 3 Univariate Viz</h1>
<section id="learning-goals" class="level2" data-number="12.1"><h2 data-number="12.1" class="anchored" data-anchor-id="learning-goals">
<span class="header-section-number">12.1</span> Learning Goals</h2>
<ul>
<li>Convince ourselves about the importance of data viz.</li>
<li>Explore the “grammar of graphics”.</li>
<li>Familiarize yourself with the ggplot() structure and grammar.</li>
<li>Build univariate viz, i.e.&nbsp;viz for 1 variable at a time.</li>
<li>Start recognizing the different approaches for visualizing categorical vs quantitative variables.</li>
</ul></section><section id="additional-resources" class="level2" data-number="12.2"><h2 data-number="12.2" class="anchored" data-anchor-id="additional-resources">
<span class="header-section-number">12.2</span> Additional Resources</h2>
<p>For more information about the topics covered in this chapter, refer to the resources below:</p>
<ul>
<li>Intro to ggplot (YouTube) by Lisa Lendway</li>
<li>Univariate viz interpreting (YouTube) by Alicia Johnson–you can ignore the parts about numerical summaries.</li>
<li>A grammar for data graphics (html) by Baumer, Kaplan, &amp; Horton</li>
<li>Data visualization (html) by Wickham, Çetinkaya-Rundel, &amp; Grolemund</li>
<li>Visualizing distributions (html) by Wilke</li>
<li>ggplot cheatsheet (pdf)</li>
</ul></section><section id="background" class="level2" data-number="12.3"><h2 data-number="12.3" class="anchored" data-anchor-id="background">
<span class="header-section-number">12.3</span> 3.1 Background</h2>
<p>We’re starting our unit on data visualization or data viz, thus skipping some steps in the data science workflow. Mainly, it’s tough to understand how our data should be prepared before we have a sense of what we want to do with this data!</p>
<section id="importance-of-visualizations" class="level3" data-number="12.3.1"><h3 data-number="12.3.1" class="anchored" data-anchor-id="importance-of-visualizations">
<span class="header-section-number">12.3.1</span> 3.1.1 Importance of Visualizations</h3>
<section id="example-1" class="level4" data-number="12.3.1.1"><h4 data-number="12.3.1.1" class="anchored" data-anchor-id="example-1">
<span class="header-section-number">12.3.1.1</span> Example 1</h4>
<p>The data below includes information on hiking trails in the 46 “high peaks” in the Adirondack mountains of Northeastern New York state. This includes data on the hike’s highest elevation (feet), vertical ascent (feet), length (miles), time in hours that it takes to complete, and difficulty rating. Open this data in a viewer, through the Environment tab or by typing View(hikes) in the console.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Import data</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>hikes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/high_peaks.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="discussion" class="level4" data-number="12.3.1.2"><h4 data-number="12.3.1.2" class="anchored" data-anchor-id="discussion">
<span class="header-section-number">12.3.1.2</span> Discussion</h4>
<ul>
<li>What is the pattern / trend of elevation of hiking trails?</li>
<li>What is the relationship between a hike’s elevation and typical time it takes to summit / reach the top?</li>
</ul></section><section id="example-2" class="level4" data-number="12.3.1.3"><h4 data-number="12.3.1.3" class="anchored" data-anchor-id="example-2">
<span class="header-section-number">12.3.1.3</span> Example 2</h4>
<p>Look at the plot below taken from a story reported by <a href="https://www.nytimes.com/interactive/2023/01/24/climate/global-temperatures-climate-warming.html">this New York Times article</a>.</p>
</section><section id="discussion-1" class="level4" data-number="12.3.1.4"><h4 data-number="12.3.1.4" class="anchored" data-anchor-id="discussion-1">
<span class="header-section-number">12.3.1.4</span> Discussion</h4>
<p>Suppose that the article tried telling the story without using data viz, What would that story be like?</p>
</section><section id="benefits-of-visualization" class="level4" data-number="12.3.1.5"><h4 data-number="12.3.1.5" class="anchored" data-anchor-id="benefits-of-visualization">
<span class="header-section-number">12.3.1.5</span> Benefits of Visualization</h4>
<ul>
<li>Understand what we’re working with from
<ul>
<li>scales &amp; typical outcomes, to</li>
<li>outliers, i.e.&nbsp;unusual cases, to</li>
<li>patterns &amp; relationships</li>
</ul>
</li>
<li>Refine research questions &amp; inform next steps of our analysis.</li>
<li>Communicate our findings and tell a story.</li>
</ul></section></section><section id="components-of-data-graphics" class="level3" data-number="12.3.2"><h3 data-number="12.3.2" class="anchored" data-anchor-id="components-of-data-graphics">
<span class="header-section-number">12.3.2</span> 3.1.2 Components of Data Graphics</h3>
<section id="example-3" class="level4" data-number="12.3.2.1"><h4 data-number="12.3.2.1" class="anchored" data-anchor-id="example-3">
<span class="header-section-number">12.3.2.1</span> Example 3</h4>
<p>Data viz is the process of mapping data to different plot components. For example, in the NYT example above, the research team mapped data like the following (but with many more rows!) to the plot.</p>
<table class="caption-top table">
<thead><tr class="header">
<th>observation</th>
<th>decade</th>
<th>year</th>
<th>date</th>
<th>relative temp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2020-30</td>
<td>2023</td>
<td>1/23</td>
<td>1.2</td>
</tr>
<tr class="even">
<td>2</td>
<td>1940-60</td>
<td>1945</td>
<td>3/45</td>
<td>-0.05</td>
</tr>
</tbody>
</table></section><section id="discussion-2" class="level4" data-number="12.3.2.2"><h4 data-number="12.3.2.2" class="anchored" data-anchor-id="discussion-2">
<span class="header-section-number">12.3.2.2</span> Discussion</h4>
<p>Write down step-by-step directions for using a data table like the one above to create the temperature visualization. A computer is your audience, thus be as precise as possible, but trust that the computer can find the exact numbers if you tell it where.</p>
<p><strong>COMPONENTS OF GRAPHICS</strong></p>
<p>In data viz, we essentially start with a blank canvas and then map data onto it. There are multiple possible mapping components. Some basics from Wickham (which goes into more depth):</p>
<p><strong>a frame, or coordinate system</strong></p>
<p>The variables or features that define the axes and gridlines of the canvas.</p>
<p><strong>a layer</strong></p>
<p>The geometric elements (e.g.&nbsp;lines, points) we add to the canvas to represent either the data points themselves or patterns among the data points. Each type of geometric element is a separate layer. These geometric elements are sometimes called “geoms” or “glyphs” (like heiroglyph!)</p>
<p><strong>scales</strong></p>
<p>The aesthetics we might add to geometric elements (e.g.&nbsp;color, size, shape) to incorporate additional information about data scales or groups.</p>
<p><strong>faceting</strong></p>
<p>The splitting up of the data into multiple subplots, or facets, to examine different groups within the data.</p>
<p><strong>a theme</strong></p>
<p>Additional controls on the “finer points” of the plot aesthetics, (e.g.&nbsp;font type, background, color scheme).</p>
</section><section id="example" class="level4" data-number="12.3.2.3"><h4 data-number="12.3.2.3" class="anchored" data-anchor-id="example">
<span class="header-section-number">12.3.2.3</span> Example</h4>
<p>In the NYT graphic, the data was mapped to the plot as follows:</p>
<ul>
<li>frame: x-axis = date, y-axis = temp</li>
<li>layers: add one line per year, add dots for each month in 2023</li>
<li>scales: color each line by decade</li>
<li>faceting: none</li>
<li>a theme: NYT style</li>
</ul></section></section><section id="ggplot-r-packages" class="level3" data-number="12.3.3"><h3 data-number="12.3.3" class="anchored" data-anchor-id="ggplot-r-packages">
<span class="header-section-number">12.3.3</span> 3.1.3 ggplot + R packages</h3>
<p>We will use the powerful ggplot tools in R to build (most of) our viz. The gg here is short for the “grammar of graphics”. These tools are developed in a way that:</p>
<ul>
<li>recognizes that code is communication (it has a grammar!)</li>
<li>connects code to the components / philosophy of data viz</li>
</ul>
<p><strong>EXAMPLES: ggplot in the News</strong></p>
<ul>
<li>MPR journalist David Montgomery: R data viz</li>
<li>BBC R data viz</li>
</ul>
<p>To use these tools, we must first get them into R/RStudio! Recall that R is open source. Anybody can build R tools and share them through special R packages. The tidyverse package compiles a set of individual packages, including ggplot2, that share a common grammar and structure. Though the learning curve can be steep, this grammar is intuitive and generalizable once mastered.</p>
<p>To install this package, do the followings: RStudiio –&gt; “Packages” pane –&gt; click “Install” –&gt; type the name of the package (tidyverse) and make sure the “Install dependencies” box is checked –&gt; and click “Install”.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Unless the authors of a package add updates, you only need to do this once all semester.</p>
</div>
</div>
<p><strong>Mac’s RStudio server</strong></p>
<p>If you’re working on Mac’s RStudio server, tidyverse is already installed on the server! Check this 2 ways:</p>
<ul>
<li>Type library(tidyverse) in your console. If you don’t get an error, it’s installed!</li>
<li>Check that it appears in the list under the “Packages” pane.</li>
</ul></section></section><section id="exercises" class="level2" data-number="12.4"><h2 data-number="12.4" class="anchored" data-anchor-id="exercises">
<span class="header-section-number">12.4</span> 3.2 Exercises</h2>
<section id="exercise-1-research-questions" class="level3" data-number="12.4.1"><h3 data-number="12.4.1" class="anchored" data-anchor-id="exercise-1-research-questions">
<span class="header-section-number">12.4.1</span> Exercise 1: Research Questions</h3>
<p>Let’s dig into the hikes data, starting with the elevation and difficulty ratings of the hikes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">head</span>(hikes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             peak elevation difficulty ascent length time    rating
1     Mt. Marcy        5344          5   3166   14.8 10.0  moderate
2 Algonquin Peak       5114          5   2936    9.6  9.0  moderate
3   Mt. Haystack       4960          7   3570   17.8 12.0 difficult
4   Mt. Skylight       4926          7   4265   17.9 15.0 difficult
5 Whiteface Mtn.       4867          4   2535   10.4  8.5      easy
6       Dix Mtn.       4857          5   2800   13.2 10.0  moderate</code></pre>
</div>
</div>
<p>What features would we like a visualization of the categorical difficulty rating variable to capture?</p>
<p><strong>Answer</strong>: For the categorical difficulty rating variable, we would want to visualize how many hikes fall into each category (easy, moderate, difficult). This would help us understand the distribution of difficulty levels among the hikes.</p>
<p>What about a visualization of the quantitative elevation variable?</p>
<p><strong>Answer</strong>: For the quantitative elevation variable, we would want to see the range of elevations, the typical or most common elevations, how the elevations are distributed across that range, and if there are any unusual or outlier elevations.</p>
</section><section id="exercise-2-load-tidyverse" class="level3" data-number="12.4.2"><h3 data-number="12.4.2" class="anchored" data-anchor-id="exercise-2-load-tidyverse">
<span class="header-section-number">12.4.2</span> Exercise 2: Load tidyverse</h3>
<p>We’ll address the above questions using ggplot tools. Try running the following chunk and simply take note of the error message – this is one you’ll get a lot!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Use the ggplot function</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in ggplot(hikes, aes(x = rating)): could not find function "ggplot"</code></pre>
</div>
</div>
<p>In order to use ggplot tools, we have to first load the tidyverse package in which they live. We’ve installed the package but we need to tell R when we want to use it. Run the chunk below to load the library. You’ll need to do this within any .qmd file that uses ggplot().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Load the package</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section><section id="exercise-3-bar-chart-of-ratings---part-1" class="level3" data-number="12.4.3"><h3 data-number="12.4.3" class="anchored" data-anchor-id="exercise-3-bar-chart-of-ratings---part-1">
<span class="header-section-number">12.4.3</span> Exercise 3: Bar Chart of Ratings - Part 1</h3>
<p>Consider some specific research questions about the difficulty rating of the hikes:</p>
<ul>
<li>How many hikes fall into each category?</li>
<li>Are the hikes evenly distributed among these categories, or are some more common than others?</li>
</ul>
<p>All of these questions can be answered with: (1) a bar chart; of (2) the categorical data recorded in the rating column. First, set up the plotting frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Think about:</p>
<ul>
<li>
<p>What did this do? What do you observe?</p>
<p><strong>Answer</strong>: This created a blank canvas with the x-axis labeled with the different categories of the rating variable (easy, moderate, difficult), but without any data plotted yet.</p>
</li>
<li>
<p>What, in general, is the first argument of the ggplot() function?</p>
<p><strong>Answer</strong>: The first argument is the data frame we want to use, in this case <code>hikes</code>.</p>
</li>
<li>
<p>What is the purpose of writing x = rating?</p>
<p><strong>Answer</strong>: This maps the rating variable from our dataset to the x-axis of our plot.</p>
</li>
<li>
<p>What do you think aes stands for?!?</p>
<p><strong>Answer</strong>: “aes” stands for “aesthetics”, which defines how variables in the data are mapped to visual properties of the plot.</p>
</li>
</ul></section><section id="exercise-4-bar-chart-of-ratings---part-2" class="level3" data-number="12.4.4"><h3 data-number="12.4.4" class="anchored" data-anchor-id="exercise-4-bar-chart-of-ratings---part-2">
<span class="header-section-number">12.4.4</span> Exercise 4: Bar Chart of Ratings - Part 2</h3>
<p>Now let’s add a geometric layer to the frame / canvas, and start customizing the plot’s theme. To this end, try each chunk below, one by one. In each chunk, make a comment about how both the code and the corresponding plot both changed.</p>
<p>NOTE:</p>
<ul>
<li>Pay attention to the general code properties and structure, not memorization.</li>
<li>Not all of these are “good” plots. We’re just exploring ggplot.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># COMMENT: Added geom_bar() which creates a bar chart showing counts of hikes in each rating category</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># COMMENT: Added labels to the x and y axes to make the plot more informative</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># COMMENT: Changed the fill color of the bars to blue</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># COMMENT: Added orange outlines to the blue bars by setting color to "orange"</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># COMMENT: Applied the minimal theme which removes the gray background</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>)  <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-5-bar-chart-follow-up" class="level3" data-number="12.4.5"><h3 data-number="12.4.5" class="anchored" data-anchor-id="exercise-5-bar-chart-follow-up">
<span class="header-section-number">12.4.5</span> Exercise 5: Bar Chart Follow-up</h3>
<section id="part-a" class="level4" data-number="12.4.5.1"><h4 data-number="12.4.5.1" class="anchored" data-anchor-id="part-a">
<span class="header-section-number">12.4.5.1</span> Part a</h4>
<p>Reflect on the ggplot() code.</p>
<ul>
<li>
<p>What’s the purpose of the +? When do we use it?</p>
<p><strong>Answer</strong>: The + operator is used to add layers to our plot. We use it whenever we want to add a new component or layer to our visualization.</p>
</li>
<li>
<p>We added the bars using geom_bar()? Why “geom”?</p>
<p><strong>Answer</strong>: “geom” stands for “geometric object” - it’s the visual representation of our data (in this case, bars).</p>
</li>
<li>
<p>What does labs() stand for?</p>
<p><strong>Answer</strong>: “labs” stands for “labels” and allows us to add or modify labels on our plot, such as axis titles, plot title, etc.</p>
</li>
<li>
<p>What’s the difference between color and fill?</p>
<p><strong>Answer</strong>: “color” controls the outline or border of the geometric objects, while “fill” controls the inside color of the geometric objects.</p>
</li>
</ul></section><section id="part-b" class="level4" data-number="12.4.5.2"><h4 data-number="12.4.5.2" class="anchored" data-anchor-id="part-b">
<span class="header-section-number">12.4.5.2</span> Part b</h4>
<p>In general, bar charts allow us to examine the following properties of a categorical variable:</p>
<ul>
<li>observed categories: What categories did we observe?</li>
<li>variability between categories: Are observations evenly spread out among the categories, or are some categories more common than others?</li>
</ul>
<p>We must then translate this information into the context of our analysis, here hikes in the Adirondacks. Summarize below what you learned from the bar chart, in context.</p>
<p><strong>Answer</strong>: From the bar chart, I can see that there are three difficulty ratings for the Adirondack high peak hikes: easy, moderate, and difficult. Most of the hikes are rated as moderate, followed by easy hikes, with difficult hikes being the least common. This suggests that the Adirondack high peaks offer a range of hiking experiences but tend toward moderate difficulty.</p>
</section><section id="part-c" class="level4" data-number="12.4.5.3"><h4 data-number="12.4.5.3" class="anchored" data-anchor-id="part-c">
<span class="header-section-number">12.4.5.3</span> Part c</h4>
<p>Is there anything you don’t like about this barplot? For example: check out the x-axis again.</p>
<p><strong>Answer</strong>: The x-axis categories are arranged alphabetically (difficult, easy, moderate) rather than in a logical order of increasing difficulty (easy, moderate, difficult). This makes it harder to interpret the data in a meaningful way.</p>
</section></section><section id="exercise-6-sad-bar-chart" class="level3" data-number="12.4.6"><h3 data-number="12.4.6" class="anchored" data-anchor-id="exercise-6-sad-bar-chart">
<span class="header-section-number">12.4.6</span> Exercise 6: Sad Bar Chart</h3>
<p>Let’s now consider some research questions related to the quantitative elevation variable:</p>
<ul>
<li>Among the hikes, what’s the range of elevation and how are the hikes distributed within this range (e.g.&nbsp;evenly, in clumps, “normally”)?</li>
<li>What’s a typical elevation?</li>
<li>Are there any outliers, i.e.&nbsp;hikes that have unusually high or low elevations?</li>
</ul>
<p>Here:</p>
<ul>
<li>Construct a bar chart of the quantitative elevation variable.</li>
<li>Explain why this might not be an effective visualization for this and other quantitative variables. (What questions does / doesn’t it help answer?)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Bar chart of elevation</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Answer</strong>: This bar chart of elevation is not effective because elevation is a continuous variable with many unique values, so almost each bar represents just one hike. This makes it difficult to see patterns in the data, identify the range, determine a typical elevation, or spot outliers. The visualization doesn’t help us understand how the data is distributed across the range of elevations.</p>
</section><section id="exercise-7-a-histogram-of-elevation" class="level3" data-number="12.4.7"><h3 data-number="12.4.7" class="anchored" data-anchor-id="exercise-7-a-histogram-of-elevation">
<span class="header-section-number">12.4.7</span> Exercise 7: A Histogram of Elevation</h3>
<p>Quantitative variables require different viz than categorical variables. Especially when there are many possible outcomes of the quantitative variable. It’s typically insufficient to simply count up the number of times we’ve observed a particular outcome as the bar graph did above. It gives us a sense of ranges and typical outcomes, but not a good sense of how the observations are distributed across this range. We’ll explore two methods for graphing quantitative variables: histograms and density plots.</p>
<p>Histograms are constructed by (1) dividing up the observed range of the variable into ‘bins’ of equal width; and (2) counting up the number of cases that fall into each bin. Check out the example below:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="part-a-1" class="level4" data-number="12.4.7.1"><h4 data-number="12.4.7.1" class="anchored" data-anchor-id="part-a-1">
<span class="header-section-number">12.4.7.1</span> Part a</h4>
<p>Let’s dig into some details.</p>
<ul>
<li>
<p>How many hikes have an elevation between 4500 and 4700 feet?</p>
<p><strong>Answer</strong>: Based on the histogram, about 6 hikes have an elevation between 4500 and 4700 feet.</p>
</li>
<li>
<p>How many total hikes have an elevation of at least 5100 feet?</p>
<p><strong>Answer</strong>: Based on the histogram, there appear to be 2 hikes with an elevation of at least 5100 feet.</p>
</li>
</ul></section><section id="part-b-1" class="level4" data-number="12.4.7.2"><h4 data-number="12.4.7.2" class="anchored" data-anchor-id="part-b-1">
<span class="header-section-number">12.4.7.2</span> Part b</h4>
<p>Now the bigger picture. In general, histograms allow us to examine the following properties of a quantitative variable:</p>
<ul>
<li>typical outcome: Where’s the center of the data points? What’s typical?</li>
<li>variability &amp; range: How spread out are the outcomes? What are the max and min outcomes?</li>
<li>shape: How are values distributed along the observed range? Is the distribution symmetric, right-skewed, left-skewed, bi-modal, or uniform (flat)?</li>
<li>outliers: Are there any outliers, i.e.&nbsp;outcomes that are unusually large/small?</li>
</ul>
<p>We must then translate this information into the context of our analysis, here hikes in the Adirondacks. Addressing each of the features in the above list, summarize below what you learned from the histogram, in context.</p>
<p><strong>Answer</strong>:</p>
<p>From the histogram of Adirondack high peak elevations, I can see that:</p>
<ul>
<li>Typical outcome: Most hikes have elevations around 4300-4500 feet, which appears to be the center of the distribution.</li>
<li>Variability &amp; range: The elevations range from about 3700 feet to 5300 feet, giving a range of about 1600 feet.</li>
<li>Shape: The distribution appears roughly symmetric with a slight right skew, meaning there are a few peaks that are higher than most.</li>
<li>Outliers: There are a couple of peaks with elevations above 5100 feet that stand out from the rest, potentially Mount Marcy and Algonquin Peak, which are the two highest peaks in the Adirondacks.</li>
</ul></section></section><section id="exercise-8-building-histograms---part-1" class="level3" data-number="12.4.8"><h3 data-number="12.4.8" class="anchored" data-anchor-id="exercise-8-building-histograms---part-1">
<span class="header-section-number">12.4.8</span> Exercise 8: Building Histograms - Part 1</h3>
<p>2-MINUTE CHALLENGE: Thinking of the bar chart code, try to intuit what line you can tack on to the below frame of elevation to add a histogram layer. Don’t forget a +. If it doesn’t come to you within 2 minutes, no problem – all will be revealed in the next exercise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="exercise-9-building-histograms---part-2" class="level3" data-number="12.4.9"><h3 data-number="12.4.9" class="anchored" data-anchor-id="exercise-9-building-histograms---part-2">
<span class="header-section-number">12.4.9</span> Exercise 9: Building Histograms - Part 2</h3>
<p>Let’s build some histograms. Try each chunk below, one by one. In each chunk, make a comment about how both the code and the corresponding plot both changed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># COMMENT: Added geom_histogram() which creates a basic histogram of elevations</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># COMMENT: Added white outlines to the bars which makes them easier to distinguish </span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># COMMENT: Changed the fill color of the bars to blue while keeping white outlines</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># COMMENT: Added informative axis labels </span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># COMMENT: Changed binwidth to 1000 feet which is too wide and loses detail</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># COMMENT: Changed binwidth to 5 feet which is too narrow and creates too many bins</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># COMMENT: Changed binwidth to 200 feet which provides a good balance for visualization</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-10-histogram-follow-up" class="level3" data-number="12.4.10"><h3 data-number="12.4.10" class="anchored" data-anchor-id="exercise-10-histogram-follow-up">
<span class="header-section-number">12.4.10</span> Exercise 10: Histogram Follow-up</h3>
<ul>
<li>
<p>What function added the histogram layer / geometry?</p>
<p><strong>Answer</strong>: <code>geom_histogram()</code></p>
</li>
<li>
<p>What’s the difference between color and fill?</p>
<p><strong>Answer</strong>: “color” controls the outline of the histogram bars, while “fill” controls the inside color of the bars.</p>
</li>
<li>
<p>Why does adding color = “white” improve the visualization?</p>
<p><strong>Answer</strong>: Adding white outlines makes it easier to distinguish between adjacent bars, especially when they’re filled with a dark color.</p>
</li>
<li>
<p>What did binwidth do?</p>
<p><strong>Answer</strong>: <code>binwidth</code> controls the width of each bin in the histogram, determining how the data is grouped.</p>
</li>
<li>
<p>Why does the histogram become ineffective if the binwidth is too big (e.g.&nbsp;1000 feet)?</p>
<p><strong>Answer</strong>: If the binwidth is too large, we lose detail and can’t see patterns in the data because too many observations are grouped together in each bin.</p>
</li>
<li>
<p>Why does the histogram become ineffective if the binwidth is too small (e.g.&nbsp;5 feet)?</p>
<p><strong>Answer</strong>: If the binwidth is too small, we get too many bins with just a few observations in each, making it difficult to see overall patterns and creating a noisy visualization.</p>
</li>
</ul></section><section id="exercise-11-density-plots" class="level3" data-number="12.4.11"><h3 data-number="12.4.11" class="anchored" data-anchor-id="exercise-11-density-plots">
<span class="header-section-number">12.4.11</span> Exercise 11: Density Plots</h3>
<p>Density plots are essentially smooth versions of the histogram. Instead of sorting observations into discrete bins, the “density” of observations is calculated across the entire range of outcomes. The greater the number of observations, the greater the density! The density is then scaled so that the area under the density curve always equals 1 and the area under any fraction of the curve represents the fraction of cases that lie in that range.</p>
<p>Check out a density plot of elevation. Notice that the y-axis (density) has no contextual interpretation – it’s a relative measure. The higher the density, the more common are elevations in that range.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Questions</p>
<p>INTUITION CHECK: Before tweaking the code and thinking back to geom_bar() and geom_histogram(), how do you anticipate the following code will change the plot?</p>
<ul>
<li>geom_density(color = “blue”)</li>
<li>geom_density(fill = “orange”)</li>
</ul>
<p>TRY IT! Test out those lines in the chunk below. Was your intuition correct?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Try with color blue</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Try with fill orange</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># Try with both color blue and fill orange</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">fill =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Answer</strong>: My intuition was correct. <code>color = "blue"</code> changed the line color of the density curve to blue, while <code>fill = "orange"</code> filled the area under the curve with orange color.</p>
<ul>
<li>Examine the density plot. How does it compare to the histogram? What does it tell you about the typical elevation, variability / range in elevations, and shape of the distribution of elevations within this range?</li>
</ul>
<p><strong>Answer</strong>: The density plot shows similar information to the histogram but in a smoother form. It shows that the typical elevation is around 4300-4500 feet, the range is approximately 3700-5300 feet, and the distribution is relatively symmetrical with a slight right skew. The density plot makes it easier to see the overall shape of the distribution compared to the histogram, which can be affected by bin width choices.</p>
</section><section id="exercise-12-density-plots-vs-histograms" class="level3" data-number="12.4.12"><h3 data-number="12.4.12" class="anchored" data-anchor-id="exercise-12-density-plots-vs-histograms">
<span class="header-section-number">12.4.12</span> Exercise 12: Density Plots vs Histograms</h3>
<p>The histogram and density plot both allow us to visualize the behavior of a quantitative variable: typical outcome, variability / range, shape, and outliers. What are the pros/cons of each? What do you like/not like about each?</p>
<p><strong>Answer</strong>:</p>
<p><strong>Histogram Pros:</strong> - Shows actual counts, which can be useful for understanding the actual number of observations - More intuitive to interpret for many people - Clearly shows the binning of data</p>
<p><strong>Histogram Cons:</strong> - Affected by bin width choices, which can dramatically change appearance - Can appear blocky or jagged - Less effective at showing the true shape of the distribution</p>
<p><strong>Density Plot Pros:</strong> - Presents a smooth curve that may better represent the underlying distribution - Not affected by arbitrary bin width choices - Good for comparing multiple distributions</p>
<p><strong>Density Plot Cons:</strong> - Doesn’t show actual counts, only relative density - May smooth over important features in the data - Y-axis (density) can be harder to interpret than counts</p>
<p>I like histograms when I want to know actual counts and specific ranges, but I prefer density plots when comparing distributions or looking for the overall shape without being concerned about the exact number of observations.</p>
</section><section id="exercise-13-code-communication" class="level3" data-number="12.4.13"><h3 data-number="12.4.13" class="anchored" data-anchor-id="exercise-13-code-communication">
<span class="header-section-number">12.4.13</span> Exercise 13: Code = communication</h3>
<p>We obviously won’t be done until we talk about communication. All code above has a similar general structure (where the details can change):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggplot</span>(___, <span class="fu">aes</span>(<span class="at">x =</span> ___)) <span class="sc">+</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">geom___</span>(<span class="at">color =</span> <span class="st">"___"</span>, <span class="at">fill =</span> <span class="st">"___"</span>) <span class="sc">+</span> </span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"___"</span>, <span class="at">y =</span> <span class="st">"___"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Though not necessary to the code working, it’s common, good practice to indent or tab the lines of code after the first line (counterexample below). Why?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># YUCK</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Answer</strong>: Indentation makes the code more readable by visually indicating that the subsequent lines are part of the same plot and are being added to the initial <code>ggplot()</code> call. It helps distinguish between different components of the plot and makes the structure of the code clearer.</p>
<ul>
<li>Though not necessary to the code working, it’s common, good practice to put a line break after each + (counterexample below). Why?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># YUCK </span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Answer</strong>: Line breaks after each + make the code more readable by separating each component of the plot onto its own line. This makes it easier to understand what each part is doing, to modify individual components, and to debug if there are errors. It also makes the code less cluttered and easier to follow.</p>
</section><section id="exercise-14-practice" class="level3" data-number="12.4.14"><h3 data-number="12.4.14" class="anchored" data-anchor-id="exercise-14-practice">
<span class="header-section-number">12.4.14</span> Exercise 14: Practice</h3>
<section id="part-a-2" class="level4" data-number="12.4.14.1"><h4 data-number="12.4.14.1" class="anchored" data-anchor-id="part-a-2">
<span class="header-section-number">12.4.14.1</span> Part a</h4>
<p>Practice your viz skills to learn about some of the variables in one of the following datasets from the previous class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Data on students in this class</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>survey <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hash-mac.github.io/stat112site-s25/data/survey.csv"</span>)</span>
<span id="cb34-3"><a href="#cb34-3"></a></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="co"># Let's explore the survey data</span></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="fu">head</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         cafe_mac minutes_to_campus fav_temp_c       hangout
1 mashed potatoes                 5         26 the mountains
2        is tasty                 5         28        a city
3          burger                 5         19      a forest
4    caesar salad                12         18      a forest
5       ice cream                 0         24 the mountains
6           tofu                 10        -10 the mountains</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="co"># First check the column names in the survey dataset</span></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="fu">str</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   49 obs. of  4 variables:
 $ cafe_mac         : chr  "mashed potatoes" "is tasty" "burger" "caesar salad" ...
 $ minutes_to_campus: int  5 5 5 12 0 10 5 0 0 5 ...
 $ fav_temp_c       : num  26 28 19 18 24 -10 21 25 18 25 ...
 $ hangout          : chr  "the mountains" "a city" "a forest" "a forest" ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># Now we can see what variables are actually available</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="co"># Let's create visualizations based on variables that exist</span></span>
<span id="cb38-3"><a href="#cb38-3"></a></span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="co"># Choose a suitable numeric variable for the histogram</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="co"># Based on what's available in the dataset (after checking str output)</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>numeric_var <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.numeric)][<span class="dv">1</span>]  <span class="co"># Get first numeric column</span></span>
<span id="cb38-7"><a href="#cb38-7"></a></span>
<span id="cb38-8"><a href="#cb38-8"></a><span class="co"># Print the chosen variable</span></span>
<span id="cb38-9"><a href="#cb38-9"></a><span class="fu">cat</span>(<span class="st">"Using numeric variable:"</span>, numeric_var, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Using numeric variable: minutes_to_campus </code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># Create a histogram of the chosen numeric variable</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> numeric_var)) <span class="sc">+</span>  <span class="co"># aes_string allows using variable names as strings</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> numeric_var, <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb40-5"><a href="#cb40-5"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, numeric_var)) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `aes_string()` was deprecated in ggplot2 3.0.0.
ℹ Please use tidy evaluation idioms with `aes()`.
ℹ See also `vignette("ggplot2-in-packages")` for more information.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># Create a density plot of the same numeric variable</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> numeric_var)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> numeric_var, <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb42-5"><a href="#cb42-5"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Density Distribution of"</span>, numeric_var)) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Choose a suitable categorical variable for the bar chart</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="co"># Based on what's available in the dataset</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>factor_vars <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.factor)]</span>
<span id="cb43-4"><a href="#cb43-4"></a>categorical_var <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(factor_vars) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb43-5"><a href="#cb43-5"></a>  factor_vars[<span class="dv">1</span>]  <span class="co"># Get first factor column</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>} <span class="cf">else</span> {</span>
<span id="cb43-7"><a href="#cb43-7"></a>  <span class="co"># If no factor variables, find character variables or create a binary from numeric</span></span>
<span id="cb43-8"><a href="#cb43-8"></a>  char_vars <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.character)]</span>
<span id="cb43-9"><a href="#cb43-9"></a>  <span class="cf">if</span>(<span class="fu">length</span>(char_vars) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb43-10"><a href="#cb43-10"></a>    char_vars[<span class="dv">1</span>]</span>
<span id="cb43-11"><a href="#cb43-11"></a>  } <span class="cf">else</span> {</span>
<span id="cb43-12"><a href="#cb43-12"></a>    <span class="co"># If no categorical variables, use the first numeric and create categories</span></span>
<span id="cb43-13"><a href="#cb43-13"></a>    numeric_var</span>
<span id="cb43-14"><a href="#cb43-14"></a>  }</span>
<span id="cb43-15"><a href="#cb43-15"></a>}</span>
<span id="cb43-16"><a href="#cb43-16"></a></span>
<span id="cb43-17"><a href="#cb43-17"></a><span class="co"># Print the chosen variable</span></span>
<span id="cb43-18"><a href="#cb43-18"></a><span class="fu">cat</span>(<span class="st">"Using categorical variable:"</span>, categorical_var, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Using categorical variable: cafe_mac </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># Create a bar chart of the chosen categorical variable</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> categorical_var)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"coral"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> categorical_var, <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb45-5"><a href="#cb45-5"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, categorical_var)) <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-uni_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="part-b-2" class="level4" data-number="12.4.14.2"><h4 data-number="12.4.14.2" class="anchored" data-anchor-id="part-b-2">
<span class="header-section-number">12.4.14.2</span> Part b</h4>
<p>Check out the RStudio Data Visualization cheat sheet to learn more features of ggplot.</p>
<p>I reviewed the ggplot cheat sheet and learned about additional features like: - Different geoms (boxplots, violin plots, etc.) - How to use faceting to create multiple plots - How to adjust scales and coordinates - How to customize themes and legends</p>
<p>These tools will be valuable for creating more complex and informative visualizations in the future.</p>


<!-- -->

</section></section></section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../bw/Cheatsheet3.html" class="pagination-link" aria-label="R Data Analysis Cheatsheet for Exam 2">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">R Data Analysis Cheatsheet for Exam 2</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ica/ica-bi.html" class="pagination-link" aria-label="Bivariate Visualization">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb46" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb46-1"><a href="#cb46-1"></a><span class="co">---</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="an">title:</span><span class="co"> "Univariate Visualization"</span></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="co">---</span></span>
<span id="cb46-6"><a href="#cb46-6"></a></span>
<span id="cb46-9"><a href="#cb46-9"></a><span class="in">```{r}</span></span>
<span id="cb46-10"><a href="#cb46-10"></a><span class="co">#| label: setup</span></span>
<span id="cb46-11"><a href="#cb46-11"></a><span class="co">#| include: false</span></span>
<span id="cb46-12"><a href="#cb46-12"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-13"><a href="#cb46-13"></a><span class="in">```</span></span>
<span id="cb46-14"><a href="#cb46-14"></a></span>
<span id="cb46-15"><a href="#cb46-15"></a><span class="fu"># 3 Univariate Viz</span></span>
<span id="cb46-16"><a href="#cb46-16"></a></span>
<span id="cb46-17"><a href="#cb46-17"></a><span class="fu">## Learning Goals</span></span>
<span id="cb46-18"><a href="#cb46-18"></a></span>
<span id="cb46-19"><a href="#cb46-19"></a><span class="ss">-   </span>Convince ourselves about the importance of data viz.</span>
<span id="cb46-20"><a href="#cb46-20"></a><span class="ss">-   </span>Explore the "grammar of graphics".</span>
<span id="cb46-21"><a href="#cb46-21"></a><span class="ss">-   </span>Familiarize yourself with the ggplot() structure and grammar.</span>
<span id="cb46-22"><a href="#cb46-22"></a><span class="ss">-   </span>Build univariate viz, i.e. viz for 1 variable at a time.</span>
<span id="cb46-23"><a href="#cb46-23"></a><span class="ss">-   </span>Start recognizing the different approaches for visualizing categorical vs quantitative variables.</span>
<span id="cb46-24"><a href="#cb46-24"></a></span>
<span id="cb46-25"><a href="#cb46-25"></a><span class="fu">## Additional Resources</span></span>
<span id="cb46-26"><a href="#cb46-26"></a></span>
<span id="cb46-27"><a href="#cb46-27"></a>For more information about the topics covered in this chapter, refer to the resources below:</span>
<span id="cb46-28"><a href="#cb46-28"></a></span>
<span id="cb46-29"><a href="#cb46-29"></a><span class="ss">-   </span>Intro to ggplot (YouTube) by Lisa Lendway</span>
<span id="cb46-30"><a href="#cb46-30"></a><span class="ss">-   </span>Univariate viz interpreting (YouTube) by Alicia Johnson--you can ignore the parts about numerical summaries.</span>
<span id="cb46-31"><a href="#cb46-31"></a><span class="ss">-   </span>A grammar for data graphics (html) by Baumer, Kaplan, &amp; Horton</span>
<span id="cb46-32"><a href="#cb46-32"></a><span class="ss">-   </span>Data visualization (html) by Wickham, Çetinkaya-Rundel, &amp; Grolemund</span>
<span id="cb46-33"><a href="#cb46-33"></a><span class="ss">-   </span>Visualizing distributions (html) by Wilke</span>
<span id="cb46-34"><a href="#cb46-34"></a><span class="ss">-   </span>ggplot cheatsheet (pdf)</span>
<span id="cb46-35"><a href="#cb46-35"></a></span>
<span id="cb46-36"><a href="#cb46-36"></a><span class="fu">## 3.1 Background</span></span>
<span id="cb46-37"><a href="#cb46-37"></a></span>
<span id="cb46-38"><a href="#cb46-38"></a>We're starting our unit on data visualization or data viz, thus skipping some steps in the data science workflow.</span>
<span id="cb46-39"><a href="#cb46-39"></a>Mainly, it's tough to understand how our data should be prepared before we have a sense of what we want to do with this data!</span>
<span id="cb46-40"><a href="#cb46-40"></a></span>
<span id="cb46-41"><a href="#cb46-41"></a><span class="fu">### 3.1.1 Importance of Visualizations</span></span>
<span id="cb46-42"><a href="#cb46-42"></a></span>
<span id="cb46-43"><a href="#cb46-43"></a><span class="fu">#### Example 1</span></span>
<span id="cb46-44"><a href="#cb46-44"></a></span>
<span id="cb46-45"><a href="#cb46-45"></a>The data below includes information on hiking trails in the 46 "high peaks" in the Adirondack mountains of Northeastern New York state.</span>
<span id="cb46-46"><a href="#cb46-46"></a>This includes data on the hike's highest elevation (feet), vertical ascent (feet), length (miles), time in hours that it takes to complete, and difficulty rating.</span>
<span id="cb46-47"><a href="#cb46-47"></a>Open this data in a viewer, through the Environment tab or by typing View(hikes) in the console.</span>
<span id="cb46-48"><a href="#cb46-48"></a></span>
<span id="cb46-51"><a href="#cb46-51"></a><span class="in">```{r}</span></span>
<span id="cb46-52"><a href="#cb46-52"></a><span class="co"># Import data</span></span>
<span id="cb46-53"><a href="#cb46-53"></a>hikes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/high_peaks.csv"</span>)</span>
<span id="cb46-54"><a href="#cb46-54"></a><span class="in">```</span></span>
<span id="cb46-55"><a href="#cb46-55"></a></span>
<span id="cb46-56"><a href="#cb46-56"></a><span class="fu">#### Discussion</span></span>
<span id="cb46-57"><a href="#cb46-57"></a></span>
<span id="cb46-58"><a href="#cb46-58"></a><span class="ss">-   </span>What is the pattern / trend of elevation of hiking trails?</span>
<span id="cb46-59"><a href="#cb46-59"></a><span class="ss">-   </span>What is the relationship between a hike's elevation and typical time it takes to summit / reach the top?</span>
<span id="cb46-60"><a href="#cb46-60"></a></span>
<span id="cb46-61"><a href="#cb46-61"></a><span class="fu">#### Example 2</span></span>
<span id="cb46-62"><a href="#cb46-62"></a></span>
<span id="cb46-63"><a href="#cb46-63"></a>Look at the plot below taken from a story reported by <span class="co">[</span><span class="ot">this New York Times article</span><span class="co">](https://www.nytimes.com/interactive/2023/01/24/climate/global-temperatures-climate-warming.html)</span>.</span>
<span id="cb46-64"><a href="#cb46-64"></a></span>
<span id="cb46-65"><a href="#cb46-65"></a><span class="fu">#### Discussion</span></span>
<span id="cb46-66"><a href="#cb46-66"></a></span>
<span id="cb46-67"><a href="#cb46-67"></a>Suppose that the article tried telling the story without using data viz, What would that story be like?</span>
<span id="cb46-68"><a href="#cb46-68"></a></span>
<span id="cb46-69"><a href="#cb46-69"></a><span class="fu">#### Benefits of Visualization</span></span>
<span id="cb46-70"><a href="#cb46-70"></a></span>
<span id="cb46-71"><a href="#cb46-71"></a><span class="ss">-   </span>Understand what we're working with from</span>
<span id="cb46-72"><a href="#cb46-72"></a><span class="ss">    -   </span>scales &amp; typical outcomes, to</span>
<span id="cb46-73"><a href="#cb46-73"></a><span class="ss">    -   </span>outliers, i.e. unusual cases, to</span>
<span id="cb46-74"><a href="#cb46-74"></a><span class="ss">    -   </span>patterns &amp; relationships</span>
<span id="cb46-75"><a href="#cb46-75"></a><span class="ss">-   </span>Refine research questions &amp; inform next steps of our analysis.</span>
<span id="cb46-76"><a href="#cb46-76"></a><span class="ss">-   </span>Communicate our findings and tell a story.</span>
<span id="cb46-77"><a href="#cb46-77"></a></span>
<span id="cb46-78"><a href="#cb46-78"></a><span class="fu">### 3.1.2 Components of Data Graphics</span></span>
<span id="cb46-79"><a href="#cb46-79"></a></span>
<span id="cb46-80"><a href="#cb46-80"></a><span class="fu">#### Example 3</span></span>
<span id="cb46-81"><a href="#cb46-81"></a></span>
<span id="cb46-82"><a href="#cb46-82"></a>Data viz is the process of mapping data to different plot components.</span>
<span id="cb46-83"><a href="#cb46-83"></a>For example, in the NYT example above, the research team mapped data like the following (but with many more rows!) to the plot.</span>
<span id="cb46-84"><a href="#cb46-84"></a></span>
<span id="cb46-85"><a href="#cb46-85"></a>| observation | decade  | year | date | relative temp |</span>
<span id="cb46-86"><a href="#cb46-86"></a>|-------------|---------|------|------|---------------|</span>
<span id="cb46-87"><a href="#cb46-87"></a>| 1           | 2020-30 | 2023 | 1/23 | 1.2           |</span>
<span id="cb46-88"><a href="#cb46-88"></a>| 2           | 1940-60 | 1945 | 3/45 | -0.05         |</span>
<span id="cb46-89"><a href="#cb46-89"></a></span>
<span id="cb46-90"><a href="#cb46-90"></a><span class="fu">#### Discussion</span></span>
<span id="cb46-91"><a href="#cb46-91"></a></span>
<span id="cb46-92"><a href="#cb46-92"></a>Write down step-by-step directions for using a data table like the one above to create the temperature visualization.</span>
<span id="cb46-93"><a href="#cb46-93"></a>A computer is your audience, thus be as precise as possible, but trust that the computer can find the exact numbers if you tell it where.</span>
<span id="cb46-94"><a href="#cb46-94"></a></span>
<span id="cb46-95"><a href="#cb46-95"></a>**COMPONENTS OF GRAPHICS**</span>
<span id="cb46-96"><a href="#cb46-96"></a></span>
<span id="cb46-97"><a href="#cb46-97"></a>In data viz, we essentially start with a blank canvas and then map data onto it.</span>
<span id="cb46-98"><a href="#cb46-98"></a>There are multiple possible mapping components.</span>
<span id="cb46-99"><a href="#cb46-99"></a>Some basics from Wickham (which goes into more depth):</span>
<span id="cb46-100"><a href="#cb46-100"></a></span>
<span id="cb46-101"><a href="#cb46-101"></a>**a frame, or coordinate system**</span>
<span id="cb46-102"><a href="#cb46-102"></a></span>
<span id="cb46-103"><a href="#cb46-103"></a>The variables or features that define the axes and gridlines of the canvas.</span>
<span id="cb46-104"><a href="#cb46-104"></a></span>
<span id="cb46-105"><a href="#cb46-105"></a>**a layer**</span>
<span id="cb46-106"><a href="#cb46-106"></a></span>
<span id="cb46-107"><a href="#cb46-107"></a>The geometric elements (e.g. lines, points) we add to the canvas to represent either the data points themselves or patterns among the data points.</span>
<span id="cb46-108"><a href="#cb46-108"></a>Each type of geometric element is a separate layer.</span>
<span id="cb46-109"><a href="#cb46-109"></a>These geometric elements are sometimes called "geoms" or "glyphs" (like heiroglyph!)</span>
<span id="cb46-110"><a href="#cb46-110"></a></span>
<span id="cb46-111"><a href="#cb46-111"></a>**scales**</span>
<span id="cb46-112"><a href="#cb46-112"></a></span>
<span id="cb46-113"><a href="#cb46-113"></a>The aesthetics we might add to geometric elements (e.g. color, size, shape) to incorporate additional information about data scales or groups.</span>
<span id="cb46-114"><a href="#cb46-114"></a></span>
<span id="cb46-115"><a href="#cb46-115"></a>**faceting**</span>
<span id="cb46-116"><a href="#cb46-116"></a></span>
<span id="cb46-117"><a href="#cb46-117"></a>The splitting up of the data into multiple subplots, or facets, to examine different groups within the data.</span>
<span id="cb46-118"><a href="#cb46-118"></a></span>
<span id="cb46-119"><a href="#cb46-119"></a>**a theme**</span>
<span id="cb46-120"><a href="#cb46-120"></a></span>
<span id="cb46-121"><a href="#cb46-121"></a>Additional controls on the "finer points" of the plot aesthetics, (e.g. font type, background, color scheme).</span>
<span id="cb46-122"><a href="#cb46-122"></a></span>
<span id="cb46-123"><a href="#cb46-123"></a><span class="fu">#### Example</span></span>
<span id="cb46-124"><a href="#cb46-124"></a></span>
<span id="cb46-125"><a href="#cb46-125"></a>In the NYT graphic, the data was mapped to the plot as follows:</span>
<span id="cb46-126"><a href="#cb46-126"></a></span>
<span id="cb46-127"><a href="#cb46-127"></a><span class="ss">-   </span>frame: x-axis = date, y-axis = temp</span>
<span id="cb46-128"><a href="#cb46-128"></a><span class="ss">-   </span>layers: add one line per year, add dots for each month in 2023</span>
<span id="cb46-129"><a href="#cb46-129"></a><span class="ss">-   </span>scales: color each line by decade</span>
<span id="cb46-130"><a href="#cb46-130"></a><span class="ss">-   </span>faceting: none</span>
<span id="cb46-131"><a href="#cb46-131"></a><span class="ss">-   </span>a theme: NYT style</span>
<span id="cb46-132"><a href="#cb46-132"></a></span>
<span id="cb46-133"><a href="#cb46-133"></a><span class="fu">### 3.1.3 ggplot + R packages</span></span>
<span id="cb46-134"><a href="#cb46-134"></a></span>
<span id="cb46-135"><a href="#cb46-135"></a>We will use the powerful ggplot tools in R to build (most of) our viz.</span>
<span id="cb46-136"><a href="#cb46-136"></a>The gg here is short for the "grammar of graphics".</span>
<span id="cb46-137"><a href="#cb46-137"></a>These tools are developed in a way that:</span>
<span id="cb46-138"><a href="#cb46-138"></a></span>
<span id="cb46-139"><a href="#cb46-139"></a><span class="ss">-   </span>recognizes that code is communication (it has a grammar!)</span>
<span id="cb46-140"><a href="#cb46-140"></a><span class="ss">-   </span>connects code to the components / philosophy of data viz</span>
<span id="cb46-141"><a href="#cb46-141"></a></span>
<span id="cb46-142"><a href="#cb46-142"></a>**EXAMPLES: ggplot in the News**</span>
<span id="cb46-143"><a href="#cb46-143"></a></span>
<span id="cb46-144"><a href="#cb46-144"></a><span class="ss">-   </span>MPR journalist David Montgomery: R data viz</span>
<span id="cb46-145"><a href="#cb46-145"></a><span class="ss">-   </span>BBC R data viz</span>
<span id="cb46-146"><a href="#cb46-146"></a></span>
<span id="cb46-147"><a href="#cb46-147"></a>To use these tools, we must first get them into R/RStudio!</span>
<span id="cb46-148"><a href="#cb46-148"></a>Recall that R is open source.</span>
<span id="cb46-149"><a href="#cb46-149"></a>Anybody can build R tools and share them through special R packages.</span>
<span id="cb46-150"><a href="#cb46-150"></a>The tidyverse package compiles a set of individual packages, including ggplot2, that share a common grammar and structure.</span>
<span id="cb46-151"><a href="#cb46-151"></a>Though the learning curve can be steep, this grammar is intuitive and generalizable once mastered.</span>
<span id="cb46-152"><a href="#cb46-152"></a></span>
<span id="cb46-153"><a href="#cb46-153"></a>To install this package, do the followings: RStudiio --<span class="sc">\&gt;</span> "Packages" pane --<span class="sc">\&gt;</span> click "Install" --<span class="sc">\&gt;</span> type the name of the package (tidyverse) and make sure the "Install dependencies" box is checked --<span class="sc">\&gt;</span> and click "Install".</span>
<span id="cb46-154"><a href="#cb46-154"></a></span>
<span id="cb46-155"><a href="#cb46-155"></a>::: callout-note</span>
<span id="cb46-156"><a href="#cb46-156"></a>Unless the authors of a package add updates, you only need to do this once all semester.</span>
<span id="cb46-157"><a href="#cb46-157"></a>:::</span>
<span id="cb46-158"><a href="#cb46-158"></a></span>
<span id="cb46-159"><a href="#cb46-159"></a>**Mac's RStudio server**</span>
<span id="cb46-160"><a href="#cb46-160"></a></span>
<span id="cb46-161"><a href="#cb46-161"></a>If you're working on Mac's RStudio server, tidyverse is already installed on the server!</span>
<span id="cb46-162"><a href="#cb46-162"></a>Check this 2 ways:</span>
<span id="cb46-163"><a href="#cb46-163"></a></span>
<span id="cb46-164"><a href="#cb46-164"></a><span class="ss">-   </span>Type library(tidyverse) in your console. If you don't get an error, it's installed!</span>
<span id="cb46-165"><a href="#cb46-165"></a><span class="ss">-   </span>Check that it appears in the list under the "Packages" pane.</span>
<span id="cb46-166"><a href="#cb46-166"></a></span>
<span id="cb46-167"><a href="#cb46-167"></a><span class="fu">## 3.2 Exercises</span></span>
<span id="cb46-168"><a href="#cb46-168"></a></span>
<span id="cb46-169"><a href="#cb46-169"></a><span class="fu">### Exercise 1: Research Questions</span></span>
<span id="cb46-170"><a href="#cb46-170"></a></span>
<span id="cb46-171"><a href="#cb46-171"></a>Let's dig into the hikes data, starting with the elevation and difficulty ratings of the hikes:</span>
<span id="cb46-172"><a href="#cb46-172"></a></span>
<span id="cb46-175"><a href="#cb46-175"></a><span class="in">```{r}</span></span>
<span id="cb46-176"><a href="#cb46-176"></a><span class="fu">head</span>(hikes)</span>
<span id="cb46-177"><a href="#cb46-177"></a><span class="in">```</span></span>
<span id="cb46-178"><a href="#cb46-178"></a></span>
<span id="cb46-179"><a href="#cb46-179"></a>What features would we like a visualization of the categorical difficulty rating variable to capture?</span>
<span id="cb46-180"><a href="#cb46-180"></a></span>
<span id="cb46-181"><a href="#cb46-181"></a>**Answer**: For the categorical difficulty rating variable, we would want to visualize how many hikes fall into each category (easy, moderate, difficult).</span>
<span id="cb46-182"><a href="#cb46-182"></a>This would help us understand the distribution of difficulty levels among the hikes.</span>
<span id="cb46-183"><a href="#cb46-183"></a></span>
<span id="cb46-184"><a href="#cb46-184"></a>What about a visualization of the quantitative elevation variable?</span>
<span id="cb46-185"><a href="#cb46-185"></a></span>
<span id="cb46-186"><a href="#cb46-186"></a>**Answer**: For the quantitative elevation variable, we would want to see the range of elevations, the typical or most common elevations, how the elevations are distributed across that range, and if there are any unusual or outlier elevations.</span>
<span id="cb46-187"><a href="#cb46-187"></a></span>
<span id="cb46-188"><a href="#cb46-188"></a><span class="fu">### Exercise 2: Load tidyverse</span></span>
<span id="cb46-189"><a href="#cb46-189"></a></span>
<span id="cb46-190"><a href="#cb46-190"></a>We'll address the above questions using ggplot tools.</span>
<span id="cb46-191"><a href="#cb46-191"></a>Try running the following chunk and simply take note of the error message – this is one you'll get a lot!</span>
<span id="cb46-192"><a href="#cb46-192"></a></span>
<span id="cb46-193"><a href="#cb46-193"></a><span class="in">```{r, error=TRUE}</span></span>
<span id="cb46-194"><a href="#cb46-194"></a><span class="in"># Use the ggplot function</span></span>
<span id="cb46-195"><a href="#cb46-195"></a><span class="in">ggplot(hikes, aes(x = rating))</span></span>
<span id="cb46-196"><a href="#cb46-196"></a><span class="in">```</span></span>
<span id="cb46-197"><a href="#cb46-197"></a></span>
<span id="cb46-198"><a href="#cb46-198"></a>In order to use ggplot tools, we have to first load the tidyverse package in which they live.</span>
<span id="cb46-199"><a href="#cb46-199"></a>We've installed the package but we need to tell R when we want to use it.</span>
<span id="cb46-200"><a href="#cb46-200"></a>Run the chunk below to load the library.</span>
<span id="cb46-201"><a href="#cb46-201"></a>You'll need to do this within any .qmd file that uses ggplot().</span>
<span id="cb46-202"><a href="#cb46-202"></a></span>
<span id="cb46-205"><a href="#cb46-205"></a><span class="in">```{r}</span></span>
<span id="cb46-206"><a href="#cb46-206"></a><span class="co"># Load the package</span></span>
<span id="cb46-207"><a href="#cb46-207"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb46-208"><a href="#cb46-208"></a><span class="in">```</span></span>
<span id="cb46-209"><a href="#cb46-209"></a></span>
<span id="cb46-210"><a href="#cb46-210"></a><span class="fu">### Exercise 3: Bar Chart of Ratings - Part 1</span></span>
<span id="cb46-211"><a href="#cb46-211"></a></span>
<span id="cb46-212"><a href="#cb46-212"></a>Consider some specific research questions about the difficulty rating of the hikes:</span>
<span id="cb46-213"><a href="#cb46-213"></a></span>
<span id="cb46-214"><a href="#cb46-214"></a><span class="ss">-   </span>How many hikes fall into each category?</span>
<span id="cb46-215"><a href="#cb46-215"></a><span class="ss">-   </span>Are the hikes evenly distributed among these categories, or are some more common than others?</span>
<span id="cb46-216"><a href="#cb46-216"></a></span>
<span id="cb46-217"><a href="#cb46-217"></a>All of these questions can be answered with: (1) a bar chart; of (2) the categorical data recorded in the rating column.</span>
<span id="cb46-218"><a href="#cb46-218"></a>First, set up the plotting frame:</span>
<span id="cb46-219"><a href="#cb46-219"></a></span>
<span id="cb46-222"><a href="#cb46-222"></a><span class="in">```{r}</span></span>
<span id="cb46-223"><a href="#cb46-223"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating))</span>
<span id="cb46-224"><a href="#cb46-224"></a><span class="in">```</span></span>
<span id="cb46-225"><a href="#cb46-225"></a></span>
<span id="cb46-226"><a href="#cb46-226"></a>Think about:</span>
<span id="cb46-227"><a href="#cb46-227"></a></span>
<span id="cb46-228"><a href="#cb46-228"></a><span class="ss">-   </span>What did this do?</span>
<span id="cb46-229"><a href="#cb46-229"></a>    What do you observe?</span>
<span id="cb46-230"><a href="#cb46-230"></a></span>
<span id="cb46-231"><a href="#cb46-231"></a>    **Answer**: This created a blank canvas with the x-axis labeled with the different categories of the rating variable (easy, moderate, difficult), but without any data plotted yet.</span>
<span id="cb46-232"><a href="#cb46-232"></a></span>
<span id="cb46-233"><a href="#cb46-233"></a><span class="ss">-   </span>What, in general, is the first argument of the ggplot() function?</span>
<span id="cb46-234"><a href="#cb46-234"></a></span>
<span id="cb46-235"><a href="#cb46-235"></a>    **Answer**: The first argument is the data frame we want to use, in this case <span class="in">`hikes`</span>.</span>
<span id="cb46-236"><a href="#cb46-236"></a></span>
<span id="cb46-237"><a href="#cb46-237"></a><span class="ss">-   </span>What is the purpose of writing x = rating?</span>
<span id="cb46-238"><a href="#cb46-238"></a></span>
<span id="cb46-239"><a href="#cb46-239"></a>    **Answer**: This maps the rating variable from our dataset to the x-axis of our plot.</span>
<span id="cb46-240"><a href="#cb46-240"></a></span>
<span id="cb46-241"><a href="#cb46-241"></a><span class="ss">-   </span>What do you think aes stands for?!?</span>
<span id="cb46-242"><a href="#cb46-242"></a></span>
<span id="cb46-243"><a href="#cb46-243"></a>    **Answer**: "aes" stands for "aesthetics", which defines how variables in the data are mapped to visual properties of the plot.</span>
<span id="cb46-244"><a href="#cb46-244"></a></span>
<span id="cb46-245"><a href="#cb46-245"></a><span class="fu">### Exercise 4: Bar Chart of Ratings - Part 2</span></span>
<span id="cb46-246"><a href="#cb46-246"></a></span>
<span id="cb46-247"><a href="#cb46-247"></a>Now let's add a geometric layer to the frame / canvas, and start customizing the plot's theme.</span>
<span id="cb46-248"><a href="#cb46-248"></a>To this end, try each chunk below, one by one.</span>
<span id="cb46-249"><a href="#cb46-249"></a>In each chunk, make a comment about how both the code and the corresponding plot both changed.</span>
<span id="cb46-250"><a href="#cb46-250"></a></span>
<span id="cb46-251"><a href="#cb46-251"></a>NOTE:</span>
<span id="cb46-252"><a href="#cb46-252"></a></span>
<span id="cb46-253"><a href="#cb46-253"></a><span class="ss">-   </span>Pay attention to the general code properties and structure, not memorization.</span>
<span id="cb46-254"><a href="#cb46-254"></a><span class="ss">-   </span>Not all of these are "good" plots. We're just exploring ggplot.</span>
<span id="cb46-255"><a href="#cb46-255"></a></span>
<span id="cb46-258"><a href="#cb46-258"></a><span class="in">```{r}</span></span>
<span id="cb46-259"><a href="#cb46-259"></a><span class="co"># COMMENT: Added geom_bar() which creates a bar chart showing counts of hikes in each rating category</span></span>
<span id="cb46-260"><a href="#cb46-260"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb46-261"><a href="#cb46-261"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb46-262"><a href="#cb46-262"></a><span class="in">```</span></span>
<span id="cb46-263"><a href="#cb46-263"></a></span>
<span id="cb46-266"><a href="#cb46-266"></a><span class="in">```{r}</span></span>
<span id="cb46-267"><a href="#cb46-267"></a><span class="co"># COMMENT: Added labels to the x and y axes to make the plot more informative</span></span>
<span id="cb46-268"><a href="#cb46-268"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb46-269"><a href="#cb46-269"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb46-270"><a href="#cb46-270"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-271"><a href="#cb46-271"></a><span class="in">```</span></span>
<span id="cb46-272"><a href="#cb46-272"></a></span>
<span id="cb46-275"><a href="#cb46-275"></a><span class="in">```{r}</span></span>
<span id="cb46-276"><a href="#cb46-276"></a><span class="co"># COMMENT: Changed the fill color of the bars to blue</span></span>
<span id="cb46-277"><a href="#cb46-277"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb46-278"><a href="#cb46-278"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb46-279"><a href="#cb46-279"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-280"><a href="#cb46-280"></a><span class="in">```</span></span>
<span id="cb46-281"><a href="#cb46-281"></a></span>
<span id="cb46-284"><a href="#cb46-284"></a><span class="in">```{r}</span></span>
<span id="cb46-285"><a href="#cb46-285"></a><span class="co"># COMMENT: Added orange outlines to the blue bars by setting color to "orange"</span></span>
<span id="cb46-286"><a href="#cb46-286"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb46-287"><a href="#cb46-287"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb46-288"><a href="#cb46-288"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-289"><a href="#cb46-289"></a><span class="in">```</span></span>
<span id="cb46-290"><a href="#cb46-290"></a></span>
<span id="cb46-293"><a href="#cb46-293"></a><span class="in">```{r}</span></span>
<span id="cb46-294"><a href="#cb46-294"></a><span class="co"># COMMENT: Applied the minimal theme which removes the gray background</span></span>
<span id="cb46-295"><a href="#cb46-295"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> rating)) <span class="sc">+</span></span>
<span id="cb46-296"><a href="#cb46-296"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>)  <span class="sc">+</span></span>
<span id="cb46-297"><a href="#cb46-297"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Rating"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>) <span class="sc">+</span></span>
<span id="cb46-298"><a href="#cb46-298"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb46-299"><a href="#cb46-299"></a><span class="in">```</span></span>
<span id="cb46-300"><a href="#cb46-300"></a></span>
<span id="cb46-301"><a href="#cb46-301"></a><span class="fu">### Exercise 5: Bar Chart Follow-up</span></span>
<span id="cb46-302"><a href="#cb46-302"></a></span>
<span id="cb46-303"><a href="#cb46-303"></a><span class="fu">#### Part a</span></span>
<span id="cb46-304"><a href="#cb46-304"></a></span>
<span id="cb46-305"><a href="#cb46-305"></a>Reflect on the ggplot() code.</span>
<span id="cb46-306"><a href="#cb46-306"></a></span>
<span id="cb46-307"><a href="#cb46-307"></a><span class="ss">-   </span>What's the purpose of the +?</span>
<span id="cb46-308"><a href="#cb46-308"></a>    When do we use it?</span>
<span id="cb46-309"><a href="#cb46-309"></a></span>
<span id="cb46-310"><a href="#cb46-310"></a>    **Answer**: The + operator is used to add layers to our plot.</span>
<span id="cb46-311"><a href="#cb46-311"></a>    We use it whenever we want to add a new component or layer to our visualization.</span>
<span id="cb46-312"><a href="#cb46-312"></a></span>
<span id="cb46-313"><a href="#cb46-313"></a><span class="ss">-   </span>We added the bars using geom_bar()?</span>
<span id="cb46-314"><a href="#cb46-314"></a>    Why "geom"?</span>
<span id="cb46-315"><a href="#cb46-315"></a></span>
<span id="cb46-316"><a href="#cb46-316"></a>    **Answer**: "geom" stands for "geometric object" - it's the visual representation of our data (in this case, bars).</span>
<span id="cb46-317"><a href="#cb46-317"></a></span>
<span id="cb46-318"><a href="#cb46-318"></a><span class="ss">-   </span>What does labs() stand for?</span>
<span id="cb46-319"><a href="#cb46-319"></a></span>
<span id="cb46-320"><a href="#cb46-320"></a>    **Answer**: "labs" stands for "labels" and allows us to add or modify labels on our plot, such as axis titles, plot title, etc.</span>
<span id="cb46-321"><a href="#cb46-321"></a></span>
<span id="cb46-322"><a href="#cb46-322"></a><span class="ss">-   </span>What's the difference between color and fill?</span>
<span id="cb46-323"><a href="#cb46-323"></a></span>
<span id="cb46-324"><a href="#cb46-324"></a>    **Answer**: "color" controls the outline or border of the geometric objects, while "fill" controls the inside color of the geometric objects.</span>
<span id="cb46-325"><a href="#cb46-325"></a></span>
<span id="cb46-326"><a href="#cb46-326"></a><span class="fu">#### Part b</span></span>
<span id="cb46-327"><a href="#cb46-327"></a></span>
<span id="cb46-328"><a href="#cb46-328"></a>In general, bar charts allow us to examine the following properties of a categorical variable:</span>
<span id="cb46-329"><a href="#cb46-329"></a></span>
<span id="cb46-330"><a href="#cb46-330"></a><span class="ss">-   </span>observed categories: What categories did we observe?</span>
<span id="cb46-331"><a href="#cb46-331"></a><span class="ss">-   </span>variability between categories: Are observations evenly spread out among the categories, or are some categories more common than others?</span>
<span id="cb46-332"><a href="#cb46-332"></a></span>
<span id="cb46-333"><a href="#cb46-333"></a>We must then translate this information into the context of our analysis, here hikes in the Adirondacks.</span>
<span id="cb46-334"><a href="#cb46-334"></a>Summarize below what you learned from the bar chart, in context.</span>
<span id="cb46-335"><a href="#cb46-335"></a></span>
<span id="cb46-336"><a href="#cb46-336"></a>**Answer**: From the bar chart, I can see that there are three difficulty ratings for the Adirondack high peak hikes: easy, moderate, and difficult.</span>
<span id="cb46-337"><a href="#cb46-337"></a>Most of the hikes are rated as moderate, followed by easy hikes, with difficult hikes being the least common.</span>
<span id="cb46-338"><a href="#cb46-338"></a>This suggests that the Adirondack high peaks offer a range of hiking experiences but tend toward moderate difficulty.</span>
<span id="cb46-339"><a href="#cb46-339"></a></span>
<span id="cb46-340"><a href="#cb46-340"></a><span class="fu">#### Part c</span></span>
<span id="cb46-341"><a href="#cb46-341"></a></span>
<span id="cb46-342"><a href="#cb46-342"></a>Is there anything you don't like about this barplot?</span>
<span id="cb46-343"><a href="#cb46-343"></a>For example: check out the x-axis again.</span>
<span id="cb46-344"><a href="#cb46-344"></a></span>
<span id="cb46-345"><a href="#cb46-345"></a>**Answer**: The x-axis categories are arranged alphabetically (difficult, easy, moderate) rather than in a logical order of increasing difficulty (easy, moderate, difficult).</span>
<span id="cb46-346"><a href="#cb46-346"></a>This makes it harder to interpret the data in a meaningful way.</span>
<span id="cb46-347"><a href="#cb46-347"></a></span>
<span id="cb46-348"><a href="#cb46-348"></a><span class="fu">### Exercise 6: Sad Bar Chart</span></span>
<span id="cb46-349"><a href="#cb46-349"></a></span>
<span id="cb46-350"><a href="#cb46-350"></a>Let's now consider some research questions related to the quantitative elevation variable:</span>
<span id="cb46-351"><a href="#cb46-351"></a></span>
<span id="cb46-352"><a href="#cb46-352"></a><span class="ss">-   </span>Among the hikes, what's the range of elevation and how are the hikes distributed within this range (e.g. evenly, in clumps, "normally")?</span>
<span id="cb46-353"><a href="#cb46-353"></a><span class="ss">-   </span>What's a typical elevation?</span>
<span id="cb46-354"><a href="#cb46-354"></a><span class="ss">-   </span>Are there any outliers, i.e. hikes that have unusually high or low elevations?</span>
<span id="cb46-355"><a href="#cb46-355"></a></span>
<span id="cb46-356"><a href="#cb46-356"></a>Here:</span>
<span id="cb46-357"><a href="#cb46-357"></a></span>
<span id="cb46-358"><a href="#cb46-358"></a><span class="ss">-   </span>Construct a bar chart of the quantitative elevation variable.</span>
<span id="cb46-359"><a href="#cb46-359"></a><span class="ss">-   </span>Explain why this might not be an effective visualization for this and other quantitative variables. (What questions does / doesn't it help answer?)</span>
<span id="cb46-360"><a href="#cb46-360"></a></span>
<span id="cb46-363"><a href="#cb46-363"></a><span class="in">```{r}</span></span>
<span id="cb46-364"><a href="#cb46-364"></a><span class="co"># Bar chart of elevation</span></span>
<span id="cb46-365"><a href="#cb46-365"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-366"><a href="#cb46-366"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb46-367"><a href="#cb46-367"></a><span class="in">```</span></span>
<span id="cb46-368"><a href="#cb46-368"></a></span>
<span id="cb46-369"><a href="#cb46-369"></a>**Answer**: This bar chart of elevation is not effective because elevation is a continuous variable with many unique values, so almost each bar represents just one hike.</span>
<span id="cb46-370"><a href="#cb46-370"></a>This makes it difficult to see patterns in the data, identify the range, determine a typical elevation, or spot outliers.</span>
<span id="cb46-371"><a href="#cb46-371"></a>The visualization doesn't help us understand how the data is distributed across the range of elevations.</span>
<span id="cb46-372"><a href="#cb46-372"></a></span>
<span id="cb46-373"><a href="#cb46-373"></a><span class="fu">### Exercise 7: A Histogram of Elevation</span></span>
<span id="cb46-374"><a href="#cb46-374"></a></span>
<span id="cb46-375"><a href="#cb46-375"></a>Quantitative variables require different viz than categorical variables.</span>
<span id="cb46-376"><a href="#cb46-376"></a>Especially when there are many possible outcomes of the quantitative variable.</span>
<span id="cb46-377"><a href="#cb46-377"></a>It's typically insufficient to simply count up the number of times we've observed a particular outcome as the bar graph did above.</span>
<span id="cb46-378"><a href="#cb46-378"></a>It gives us a sense of ranges and typical outcomes, but not a good sense of how the observations are distributed across this range.</span>
<span id="cb46-379"><a href="#cb46-379"></a>We'll explore two methods for graphing quantitative variables: histograms and density plots.</span>
<span id="cb46-380"><a href="#cb46-380"></a></span>
<span id="cb46-381"><a href="#cb46-381"></a>Histograms are constructed by (1) dividing up the observed range of the variable into 'bins' of equal width; and (2) counting up the number of cases that fall into each bin.</span>
<span id="cb46-382"><a href="#cb46-382"></a>Check out the example below:</span>
<span id="cb46-383"><a href="#cb46-383"></a></span>
<span id="cb46-386"><a href="#cb46-386"></a><span class="in">```{r}</span></span>
<span id="cb46-387"><a href="#cb46-387"></a><span class="co">#| echo: false</span></span>
<span id="cb46-388"><a href="#cb46-388"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-389"><a href="#cb46-389"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">200</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb46-390"><a href="#cb46-390"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-391"><a href="#cb46-391"></a><span class="in">```</span></span>
<span id="cb46-392"><a href="#cb46-392"></a></span>
<span id="cb46-393"><a href="#cb46-393"></a><span class="fu">#### Part a</span></span>
<span id="cb46-394"><a href="#cb46-394"></a></span>
<span id="cb46-395"><a href="#cb46-395"></a>Let's dig into some details.</span>
<span id="cb46-396"><a href="#cb46-396"></a></span>
<span id="cb46-397"><a href="#cb46-397"></a><span class="ss">-   </span>How many hikes have an elevation between 4500 and 4700 feet?</span>
<span id="cb46-398"><a href="#cb46-398"></a></span>
<span id="cb46-399"><a href="#cb46-399"></a>    **Answer**: Based on the histogram, about 6 hikes have an elevation between 4500 and 4700 feet.</span>
<span id="cb46-400"><a href="#cb46-400"></a></span>
<span id="cb46-401"><a href="#cb46-401"></a><span class="ss">-   </span>How many total hikes have an elevation of at least 5100 feet?</span>
<span id="cb46-402"><a href="#cb46-402"></a></span>
<span id="cb46-403"><a href="#cb46-403"></a>    **Answer**: Based on the histogram, there appear to be 2 hikes with an elevation of at least 5100 feet.</span>
<span id="cb46-404"><a href="#cb46-404"></a></span>
<span id="cb46-405"><a href="#cb46-405"></a><span class="fu">#### Part b</span></span>
<span id="cb46-406"><a href="#cb46-406"></a></span>
<span id="cb46-407"><a href="#cb46-407"></a>Now the bigger picture.</span>
<span id="cb46-408"><a href="#cb46-408"></a>In general, histograms allow us to examine the following properties of a quantitative variable:</span>
<span id="cb46-409"><a href="#cb46-409"></a></span>
<span id="cb46-410"><a href="#cb46-410"></a><span class="ss">-   </span>typical outcome: Where's the center of the data points? What's typical?</span>
<span id="cb46-411"><a href="#cb46-411"></a><span class="ss">-   </span>variability &amp; range: How spread out are the outcomes? What are the max and min outcomes?</span>
<span id="cb46-412"><a href="#cb46-412"></a><span class="ss">-   </span>shape: How are values distributed along the observed range? Is the distribution symmetric, right-skewed, left-skewed, bi-modal, or uniform (flat)?</span>
<span id="cb46-413"><a href="#cb46-413"></a><span class="ss">-   </span>outliers: Are there any outliers, i.e. outcomes that are unusually large/small?</span>
<span id="cb46-414"><a href="#cb46-414"></a></span>
<span id="cb46-415"><a href="#cb46-415"></a>We must then translate this information into the context of our analysis, here hikes in the Adirondacks.</span>
<span id="cb46-416"><a href="#cb46-416"></a>Addressing each of the features in the above list, summarize below what you learned from the histogram, in context.</span>
<span id="cb46-417"><a href="#cb46-417"></a></span>
<span id="cb46-418"><a href="#cb46-418"></a>**Answer**:</span>
<span id="cb46-419"><a href="#cb46-419"></a></span>
<span id="cb46-420"><a href="#cb46-420"></a>From the histogram of Adirondack high peak elevations, I can see that:</span>
<span id="cb46-421"><a href="#cb46-421"></a></span>
<span id="cb46-422"><a href="#cb46-422"></a><span class="ss">-   </span>Typical outcome: Most hikes have elevations around 4300-4500 feet, which appears to be the center of the distribution.</span>
<span id="cb46-423"><a href="#cb46-423"></a><span class="ss">-   </span>Variability &amp; range: The elevations range from about 3700 feet to 5300 feet, giving a range of about 1600 feet.</span>
<span id="cb46-424"><a href="#cb46-424"></a><span class="ss">-   </span>Shape: The distribution appears roughly symmetric with a slight right skew, meaning there are a few peaks that are higher than most.</span>
<span id="cb46-425"><a href="#cb46-425"></a><span class="ss">-   </span>Outliers: There are a couple of peaks with elevations above 5100 feet that stand out from the rest, potentially Mount Marcy and Algonquin Peak, which are the two highest peaks in the Adirondacks.</span>
<span id="cb46-426"><a href="#cb46-426"></a></span>
<span id="cb46-427"><a href="#cb46-427"></a><span class="fu">### Exercise 8: Building Histograms - Part 1</span></span>
<span id="cb46-428"><a href="#cb46-428"></a></span>
<span id="cb46-429"><a href="#cb46-429"></a>2-MINUTE CHALLENGE: Thinking of the bar chart code, try to intuit what line you can tack on to the below frame of elevation to add a histogram layer.</span>
<span id="cb46-430"><a href="#cb46-430"></a>Don't forget a +.</span>
<span id="cb46-431"><a href="#cb46-431"></a>If it doesn't come to you within 2 minutes, no problem – all will be revealed in the next exercise.</span>
<span id="cb46-432"><a href="#cb46-432"></a></span>
<span id="cb46-433"><a href="#cb46-433"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb46-434"><a href="#cb46-434"></a><span class="in">ggplot(hikes, aes(x = elevation)) + </span></span>
<span id="cb46-435"><a href="#cb46-435"></a><span class="in">  geom_histogram()</span></span>
<span id="cb46-436"><a href="#cb46-436"></a><span class="in">```</span></span>
<span id="cb46-437"><a href="#cb46-437"></a></span>
<span id="cb46-438"><a href="#cb46-438"></a><span class="fu">### Exercise 9: Building Histograms - Part 2</span></span>
<span id="cb46-439"><a href="#cb46-439"></a></span>
<span id="cb46-440"><a href="#cb46-440"></a>Let's build some histograms.</span>
<span id="cb46-441"><a href="#cb46-441"></a>Try each chunk below, one by one.</span>
<span id="cb46-442"><a href="#cb46-442"></a>In each chunk, make a comment about how both the code and the corresponding plot both changed.</span>
<span id="cb46-443"><a href="#cb46-443"></a></span>
<span id="cb46-446"><a href="#cb46-446"></a><span class="in">```{r}</span></span>
<span id="cb46-447"><a href="#cb46-447"></a><span class="co"># COMMENT: Added geom_histogram() which creates a basic histogram of elevations</span></span>
<span id="cb46-448"><a href="#cb46-448"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-449"><a href="#cb46-449"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb46-450"><a href="#cb46-450"></a><span class="in">```</span></span>
<span id="cb46-451"><a href="#cb46-451"></a></span>
<span id="cb46-454"><a href="#cb46-454"></a><span class="in">```{r}</span></span>
<span id="cb46-455"><a href="#cb46-455"></a><span class="co"># COMMENT: Added white outlines to the bars which makes them easier to distinguish </span></span>
<span id="cb46-456"><a href="#cb46-456"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-457"><a href="#cb46-457"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) </span>
<span id="cb46-458"><a href="#cb46-458"></a><span class="in">```</span></span>
<span id="cb46-459"><a href="#cb46-459"></a></span>
<span id="cb46-462"><a href="#cb46-462"></a><span class="in">```{r}</span></span>
<span id="cb46-463"><a href="#cb46-463"></a><span class="co"># COMMENT: Changed the fill color of the bars to blue while keeping white outlines</span></span>
<span id="cb46-464"><a href="#cb46-464"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-465"><a href="#cb46-465"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) </span>
<span id="cb46-466"><a href="#cb46-466"></a><span class="in">```</span></span>
<span id="cb46-467"><a href="#cb46-467"></a></span>
<span id="cb46-470"><a href="#cb46-470"></a><span class="in">```{r}</span></span>
<span id="cb46-471"><a href="#cb46-471"></a><span class="co"># COMMENT: Added informative axis labels </span></span>
<span id="cb46-472"><a href="#cb46-472"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-473"><a href="#cb46-473"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb46-474"><a href="#cb46-474"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-475"><a href="#cb46-475"></a><span class="in">```</span></span>
<span id="cb46-476"><a href="#cb46-476"></a></span>
<span id="cb46-479"><a href="#cb46-479"></a><span class="in">```{r}</span></span>
<span id="cb46-480"><a href="#cb46-480"></a><span class="co"># COMMENT: Changed binwidth to 1000 feet which is too wide and loses detail</span></span>
<span id="cb46-481"><a href="#cb46-481"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-482"><a href="#cb46-482"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb46-483"><a href="#cb46-483"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-484"><a href="#cb46-484"></a><span class="in">```</span></span>
<span id="cb46-485"><a href="#cb46-485"></a></span>
<span id="cb46-488"><a href="#cb46-488"></a><span class="in">```{r}</span></span>
<span id="cb46-489"><a href="#cb46-489"></a><span class="co"># COMMENT: Changed binwidth to 5 feet which is too narrow and creates too many bins</span></span>
<span id="cb46-490"><a href="#cb46-490"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-491"><a href="#cb46-491"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb46-492"><a href="#cb46-492"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-493"><a href="#cb46-493"></a><span class="in">```</span></span>
<span id="cb46-494"><a href="#cb46-494"></a></span>
<span id="cb46-497"><a href="#cb46-497"></a><span class="in">```{r}</span></span>
<span id="cb46-498"><a href="#cb46-498"></a><span class="co"># COMMENT: Changed binwidth to 200 feet which provides a good balance for visualization</span></span>
<span id="cb46-499"><a href="#cb46-499"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-500"><a href="#cb46-500"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span></span>
<span id="cb46-501"><a href="#cb46-501"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Elevation (feet)"</span>, <span class="at">y =</span> <span class="st">"Number of hikes"</span>)</span>
<span id="cb46-502"><a href="#cb46-502"></a><span class="in">```</span></span>
<span id="cb46-503"><a href="#cb46-503"></a></span>
<span id="cb46-504"><a href="#cb46-504"></a><span class="fu">### Exercise 10: Histogram Follow-up</span></span>
<span id="cb46-505"><a href="#cb46-505"></a></span>
<span id="cb46-506"><a href="#cb46-506"></a><span class="ss">-   </span>What function added the histogram layer / geometry?</span>
<span id="cb46-507"><a href="#cb46-507"></a></span>
<span id="cb46-508"><a href="#cb46-508"></a>    **Answer**: <span class="in">`geom_histogram()`</span></span>
<span id="cb46-509"><a href="#cb46-509"></a></span>
<span id="cb46-510"><a href="#cb46-510"></a><span class="ss">-   </span>What's the difference between color and fill?</span>
<span id="cb46-511"><a href="#cb46-511"></a></span>
<span id="cb46-512"><a href="#cb46-512"></a>    **Answer**: "color" controls the outline of the histogram bars, while "fill" controls the inside color of the bars.</span>
<span id="cb46-513"><a href="#cb46-513"></a></span>
<span id="cb46-514"><a href="#cb46-514"></a><span class="ss">-   </span>Why does adding color = "white" improve the visualization?</span>
<span id="cb46-515"><a href="#cb46-515"></a></span>
<span id="cb46-516"><a href="#cb46-516"></a>    **Answer**: Adding white outlines makes it easier to distinguish between adjacent bars, especially when they're filled with a dark color.</span>
<span id="cb46-517"><a href="#cb46-517"></a></span>
<span id="cb46-518"><a href="#cb46-518"></a><span class="ss">-   </span>What did binwidth do?</span>
<span id="cb46-519"><a href="#cb46-519"></a></span>
<span id="cb46-520"><a href="#cb46-520"></a>    **Answer**: <span class="in">`binwidth`</span> controls the width of each bin in the histogram, determining how the data is grouped.</span>
<span id="cb46-521"><a href="#cb46-521"></a></span>
<span id="cb46-522"><a href="#cb46-522"></a><span class="ss">-   </span>Why does the histogram become ineffective if the binwidth is too big (e.g. 1000 feet)?</span>
<span id="cb46-523"><a href="#cb46-523"></a></span>
<span id="cb46-524"><a href="#cb46-524"></a>    **Answer**: If the binwidth is too large, we lose detail and can't see patterns in the data because too many observations are grouped together in each bin.</span>
<span id="cb46-525"><a href="#cb46-525"></a></span>
<span id="cb46-526"><a href="#cb46-526"></a><span class="ss">-   </span>Why does the histogram become ineffective if the binwidth is too small (e.g. 5 feet)?</span>
<span id="cb46-527"><a href="#cb46-527"></a></span>
<span id="cb46-528"><a href="#cb46-528"></a>    **Answer**: If the binwidth is too small, we get too many bins with just a few observations in each, making it difficult to see overall patterns and creating a noisy visualization.</span>
<span id="cb46-529"><a href="#cb46-529"></a></span>
<span id="cb46-530"><a href="#cb46-530"></a><span class="fu">### Exercise 11: Density Plots</span></span>
<span id="cb46-531"><a href="#cb46-531"></a></span>
<span id="cb46-532"><a href="#cb46-532"></a>Density plots are essentially smooth versions of the histogram.</span>
<span id="cb46-533"><a href="#cb46-533"></a>Instead of sorting observations into discrete bins, the "density" of observations is calculated across the entire range of outcomes.</span>
<span id="cb46-534"><a href="#cb46-534"></a>The greater the number of observations, the greater the density!</span>
<span id="cb46-535"><a href="#cb46-535"></a>The density is then scaled so that the area under the density curve always equals 1 and the area under any fraction of the curve represents the fraction of cases that lie in that range.</span>
<span id="cb46-536"><a href="#cb46-536"></a></span>
<span id="cb46-537"><a href="#cb46-537"></a>Check out a density plot of elevation.</span>
<span id="cb46-538"><a href="#cb46-538"></a>Notice that the y-axis (density) has no contextual interpretation – it's a relative measure.</span>
<span id="cb46-539"><a href="#cb46-539"></a>The higher the density, the more common are elevations in that range.</span>
<span id="cb46-540"><a href="#cb46-540"></a></span>
<span id="cb46-543"><a href="#cb46-543"></a><span class="in">```{r}</span></span>
<span id="cb46-544"><a href="#cb46-544"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-545"><a href="#cb46-545"></a>  <span class="fu">geom_density</span>()</span>
<span id="cb46-546"><a href="#cb46-546"></a><span class="in">```</span></span>
<span id="cb46-547"><a href="#cb46-547"></a></span>
<span id="cb46-548"><a href="#cb46-548"></a>Questions</span>
<span id="cb46-549"><a href="#cb46-549"></a></span>
<span id="cb46-550"><a href="#cb46-550"></a>INTUITION CHECK: Before tweaking the code and thinking back to geom_bar() and geom_histogram(), how do you anticipate the following code will change the plot?</span>
<span id="cb46-551"><a href="#cb46-551"></a></span>
<span id="cb46-552"><a href="#cb46-552"></a><span class="ss">-   </span>geom_density(color = "blue")</span>
<span id="cb46-553"><a href="#cb46-553"></a><span class="ss">-   </span>geom_density(fill = "orange")</span>
<span id="cb46-554"><a href="#cb46-554"></a></span>
<span id="cb46-555"><a href="#cb46-555"></a>TRY IT!</span>
<span id="cb46-556"><a href="#cb46-556"></a>Test out those lines in the chunk below.</span>
<span id="cb46-557"><a href="#cb46-557"></a>Was your intuition correct?</span>
<span id="cb46-558"><a href="#cb46-558"></a></span>
<span id="cb46-561"><a href="#cb46-561"></a><span class="in">```{r}</span></span>
<span id="cb46-562"><a href="#cb46-562"></a><span class="co"># Try with color blue</span></span>
<span id="cb46-563"><a href="#cb46-563"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-564"><a href="#cb46-564"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"blue"</span>)</span>
<span id="cb46-565"><a href="#cb46-565"></a><span class="in">```</span></span>
<span id="cb46-566"><a href="#cb46-566"></a></span>
<span id="cb46-569"><a href="#cb46-569"></a><span class="in">```{r}</span></span>
<span id="cb46-570"><a href="#cb46-570"></a><span class="co"># Try with fill orange</span></span>
<span id="cb46-571"><a href="#cb46-571"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-572"><a href="#cb46-572"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"orange"</span>)</span>
<span id="cb46-573"><a href="#cb46-573"></a><span class="in">```</span></span>
<span id="cb46-574"><a href="#cb46-574"></a></span>
<span id="cb46-577"><a href="#cb46-577"></a><span class="in">```{r}</span></span>
<span id="cb46-578"><a href="#cb46-578"></a><span class="co"># Try with both color blue and fill orange</span></span>
<span id="cb46-579"><a href="#cb46-579"></a><span class="fu">ggplot</span>(hikes, <span class="fu">aes</span>(<span class="at">x =</span> elevation)) <span class="sc">+</span></span>
<span id="cb46-580"><a href="#cb46-580"></a>  <span class="fu">geom_density</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">fill =</span> <span class="st">"orange"</span>)</span>
<span id="cb46-581"><a href="#cb46-581"></a><span class="in">```</span></span>
<span id="cb46-582"><a href="#cb46-582"></a></span>
<span id="cb46-583"><a href="#cb46-583"></a>**Answer**: My intuition was correct.</span>
<span id="cb46-584"><a href="#cb46-584"></a><span class="in">`color = "blue"`</span> changed the line color of the density curve to blue, while <span class="in">`fill = "orange"`</span> filled the area under the curve with orange color.</span>
<span id="cb46-585"><a href="#cb46-585"></a></span>
<span id="cb46-586"><a href="#cb46-586"></a><span class="ss">-   </span>Examine the density plot. How does it compare to the histogram? What does it tell you about the typical elevation, variability / range in elevations, and shape of the distribution of elevations within this range?</span>
<span id="cb46-587"><a href="#cb46-587"></a></span>
<span id="cb46-588"><a href="#cb46-588"></a>**Answer**: The density plot shows similar information to the histogram but in a smoother form.</span>
<span id="cb46-589"><a href="#cb46-589"></a>It shows that the typical elevation is around 4300-4500 feet, the range is approximately 3700-5300 feet, and the distribution is relatively symmetrical with a slight right skew.</span>
<span id="cb46-590"><a href="#cb46-590"></a>The density plot makes it easier to see the overall shape of the distribution compared to the histogram, which can be affected by bin width choices.</span>
<span id="cb46-591"><a href="#cb46-591"></a></span>
<span id="cb46-592"><a href="#cb46-592"></a><span class="fu">### Exercise 12: Density Plots vs Histograms</span></span>
<span id="cb46-593"><a href="#cb46-593"></a></span>
<span id="cb46-594"><a href="#cb46-594"></a>The histogram and density plot both allow us to visualize the behavior of a quantitative variable: typical outcome, variability / range, shape, and outliers.</span>
<span id="cb46-595"><a href="#cb46-595"></a>What are the pros/cons of each?</span>
<span id="cb46-596"><a href="#cb46-596"></a>What do you like/not like about each?</span>
<span id="cb46-597"><a href="#cb46-597"></a></span>
<span id="cb46-598"><a href="#cb46-598"></a>**Answer**:</span>
<span id="cb46-599"><a href="#cb46-599"></a></span>
<span id="cb46-600"><a href="#cb46-600"></a>**Histogram Pros:** - Shows actual counts, which can be useful for understanding the actual number of observations - More intuitive to interpret for many people - Clearly shows the binning of data</span>
<span id="cb46-601"><a href="#cb46-601"></a></span>
<span id="cb46-602"><a href="#cb46-602"></a>**Histogram Cons:** - Affected by bin width choices, which can dramatically change appearance - Can appear blocky or jagged - Less effective at showing the true shape of the distribution</span>
<span id="cb46-603"><a href="#cb46-603"></a></span>
<span id="cb46-604"><a href="#cb46-604"></a>**Density Plot Pros:** - Presents a smooth curve that may better represent the underlying distribution - Not affected by arbitrary bin width choices - Good for comparing multiple distributions</span>
<span id="cb46-605"><a href="#cb46-605"></a></span>
<span id="cb46-606"><a href="#cb46-606"></a>**Density Plot Cons:** - Doesn't show actual counts, only relative density - May smooth over important features in the data - Y-axis (density) can be harder to interpret than counts</span>
<span id="cb46-607"><a href="#cb46-607"></a></span>
<span id="cb46-608"><a href="#cb46-608"></a>I like histograms when I want to know actual counts and specific ranges, but I prefer density plots when comparing distributions or looking for the overall shape without being concerned about the exact number of observations.</span>
<span id="cb46-609"><a href="#cb46-609"></a></span>
<span id="cb46-610"><a href="#cb46-610"></a><span class="fu">### Exercise 13: Code = communication</span></span>
<span id="cb46-611"><a href="#cb46-611"></a></span>
<span id="cb46-612"><a href="#cb46-612"></a>We obviously won't be done until we talk about communication.</span>
<span id="cb46-613"><a href="#cb46-613"></a>All code above has a similar general structure (where the details can change):</span>
<span id="cb46-614"><a href="#cb46-614"></a></span>
<span id="cb46-615"><a href="#cb46-615"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb46-616"><a href="#cb46-616"></a><span class="in">ggplot(___, aes(x = ___)) + </span></span>
<span id="cb46-617"><a href="#cb46-617"></a><span class="in">  geom___(color = "___", fill = "___") + </span></span>
<span id="cb46-618"><a href="#cb46-618"></a><span class="in">  labs(x = "___", y = "___")</span></span>
<span id="cb46-619"><a href="#cb46-619"></a><span class="in">```</span></span>
<span id="cb46-620"><a href="#cb46-620"></a></span>
<span id="cb46-621"><a href="#cb46-621"></a><span class="ss">-   </span>Though not necessary to the code working, it's common, good practice to indent or tab the lines of code after the first line (counterexample below). Why?</span>
<span id="cb46-622"><a href="#cb46-622"></a></span>
<span id="cb46-623"><a href="#cb46-623"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb46-624"><a href="#cb46-624"></a><span class="in"># YUCK</span></span>
<span id="cb46-625"><a href="#cb46-625"></a><span class="in">ggplot(hikes, aes(x = elevation)) +</span></span>
<span id="cb46-626"><a href="#cb46-626"></a><span class="in">geom_histogram(color = "white", binwidth = 200) +</span></span>
<span id="cb46-627"><a href="#cb46-627"></a><span class="in">labs(x = "Elevation (feet)", y = "Number of hikes")</span></span>
<span id="cb46-628"><a href="#cb46-628"></a><span class="in">```</span></span>
<span id="cb46-629"><a href="#cb46-629"></a></span>
<span id="cb46-630"><a href="#cb46-630"></a>**Answer**: Indentation makes the code more readable by visually indicating that the subsequent lines are part of the same plot and are being added to the initial <span class="in">`ggplot()`</span> call.</span>
<span id="cb46-631"><a href="#cb46-631"></a>It helps distinguish between different components of the plot and makes the structure of the code clearer.</span>
<span id="cb46-632"><a href="#cb46-632"></a></span>
<span id="cb46-633"><a href="#cb46-633"></a><span class="ss">-   </span>Though not necessary to the code working, it's common, good practice to put a line break after each + (counterexample below). Why?</span>
<span id="cb46-634"><a href="#cb46-634"></a></span>
<span id="cb46-635"><a href="#cb46-635"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb46-636"><a href="#cb46-636"></a><span class="in"># YUCK </span></span>
<span id="cb46-637"><a href="#cb46-637"></a><span class="in">ggplot(hikes, aes(x = elevation)) + geom_histogram(color = "white", binwidth = 200) + labs(x = "Elevation (feet)", y = "Number of hikes")</span></span>
<span id="cb46-638"><a href="#cb46-638"></a><span class="in">```</span></span>
<span id="cb46-639"><a href="#cb46-639"></a></span>
<span id="cb46-640"><a href="#cb46-640"></a>**Answer**: Line breaks after each + make the code more readable by separating each component of the plot onto its own line.</span>
<span id="cb46-641"><a href="#cb46-641"></a>This makes it easier to understand what each part is doing, to modify individual components, and to debug if there are errors.</span>
<span id="cb46-642"><a href="#cb46-642"></a>It also makes the code less cluttered and easier to follow.</span>
<span id="cb46-643"><a href="#cb46-643"></a></span>
<span id="cb46-644"><a href="#cb46-644"></a><span class="fu">### Exercise 14: Practice</span></span>
<span id="cb46-645"><a href="#cb46-645"></a></span>
<span id="cb46-646"><a href="#cb46-646"></a><span class="fu">#### Part a</span></span>
<span id="cb46-647"><a href="#cb46-647"></a></span>
<span id="cb46-648"><a href="#cb46-648"></a>Practice your viz skills to learn about some of the variables in one of the following datasets from the previous class:</span>
<span id="cb46-649"><a href="#cb46-649"></a></span>
<span id="cb46-652"><a href="#cb46-652"></a><span class="in">```{r}</span></span>
<span id="cb46-653"><a href="#cb46-653"></a><span class="co"># Data on students in this class</span></span>
<span id="cb46-654"><a href="#cb46-654"></a>survey <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hash-mac.github.io/stat112site-s25/data/survey.csv"</span>)</span>
<span id="cb46-655"><a href="#cb46-655"></a></span>
<span id="cb46-656"><a href="#cb46-656"></a><span class="co"># Let's explore the survey data</span></span>
<span id="cb46-657"><a href="#cb46-657"></a><span class="fu">head</span>(survey)</span>
<span id="cb46-658"><a href="#cb46-658"></a><span class="in">```</span></span>
<span id="cb46-659"><a href="#cb46-659"></a></span>
<span id="cb46-662"><a href="#cb46-662"></a><span class="in">```{r}</span></span>
<span id="cb46-663"><a href="#cb46-663"></a><span class="co"># First check the column names in the survey dataset</span></span>
<span id="cb46-664"><a href="#cb46-664"></a><span class="fu">str</span>(survey)</span>
<span id="cb46-665"><a href="#cb46-665"></a><span class="in">```</span></span>
<span id="cb46-666"><a href="#cb46-666"></a></span>
<span id="cb46-669"><a href="#cb46-669"></a><span class="in">```{r}</span></span>
<span id="cb46-670"><a href="#cb46-670"></a><span class="co"># Now we can see what variables are actually available</span></span>
<span id="cb46-671"><a href="#cb46-671"></a><span class="co"># Let's create visualizations based on variables that exist</span></span>
<span id="cb46-672"><a href="#cb46-672"></a></span>
<span id="cb46-673"><a href="#cb46-673"></a><span class="co"># Choose a suitable numeric variable for the histogram</span></span>
<span id="cb46-674"><a href="#cb46-674"></a><span class="co"># Based on what's available in the dataset (after checking str output)</span></span>
<span id="cb46-675"><a href="#cb46-675"></a>numeric_var <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.numeric)][<span class="dv">1</span>]  <span class="co"># Get first numeric column</span></span>
<span id="cb46-676"><a href="#cb46-676"></a></span>
<span id="cb46-677"><a href="#cb46-677"></a><span class="co"># Print the chosen variable</span></span>
<span id="cb46-678"><a href="#cb46-678"></a><span class="fu">cat</span>(<span class="st">"Using numeric variable:"</span>, numeric_var, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb46-679"><a href="#cb46-679"></a></span>
<span id="cb46-680"><a href="#cb46-680"></a><span class="co"># Create a histogram of the chosen numeric variable</span></span>
<span id="cb46-681"><a href="#cb46-681"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> numeric_var)) <span class="sc">+</span>  <span class="co"># aes_string allows using variable names as strings</span></span>
<span id="cb46-682"><a href="#cb46-682"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb46-683"><a href="#cb46-683"></a>  <span class="fu">labs</span>(<span class="at">x =</span> numeric_var, <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb46-684"><a href="#cb46-684"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, numeric_var)) <span class="sc">+</span></span>
<span id="cb46-685"><a href="#cb46-685"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb46-686"><a href="#cb46-686"></a><span class="in">```</span></span>
<span id="cb46-687"><a href="#cb46-687"></a></span>
<span id="cb46-690"><a href="#cb46-690"></a><span class="in">```{r}</span></span>
<span id="cb46-691"><a href="#cb46-691"></a><span class="co"># Create a density plot of the same numeric variable</span></span>
<span id="cb46-692"><a href="#cb46-692"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> numeric_var)) <span class="sc">+</span></span>
<span id="cb46-693"><a href="#cb46-693"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb46-694"><a href="#cb46-694"></a>  <span class="fu">labs</span>(<span class="at">x =</span> numeric_var, <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb46-695"><a href="#cb46-695"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Density Distribution of"</span>, numeric_var)) <span class="sc">+</span></span>
<span id="cb46-696"><a href="#cb46-696"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb46-697"><a href="#cb46-697"></a><span class="in">```</span></span>
<span id="cb46-698"><a href="#cb46-698"></a></span>
<span id="cb46-701"><a href="#cb46-701"></a><span class="in">```{r}</span></span>
<span id="cb46-702"><a href="#cb46-702"></a><span class="co"># Choose a suitable categorical variable for the bar chart</span></span>
<span id="cb46-703"><a href="#cb46-703"></a><span class="co"># Based on what's available in the dataset</span></span>
<span id="cb46-704"><a href="#cb46-704"></a>factor_vars <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.factor)]</span>
<span id="cb46-705"><a href="#cb46-705"></a>categorical_var <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(factor_vars) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb46-706"><a href="#cb46-706"></a>  factor_vars[<span class="dv">1</span>]  <span class="co"># Get first factor column</span></span>
<span id="cb46-707"><a href="#cb46-707"></a>} <span class="cf">else</span> {</span>
<span id="cb46-708"><a href="#cb46-708"></a>  <span class="co"># If no factor variables, find character variables or create a binary from numeric</span></span>
<span id="cb46-709"><a href="#cb46-709"></a>  char_vars <span class="ot">&lt;-</span> <span class="fu">colnames</span>(survey)[<span class="fu">sapply</span>(survey, is.character)]</span>
<span id="cb46-710"><a href="#cb46-710"></a>  <span class="cf">if</span>(<span class="fu">length</span>(char_vars) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb46-711"><a href="#cb46-711"></a>    char_vars[<span class="dv">1</span>]</span>
<span id="cb46-712"><a href="#cb46-712"></a>  } <span class="cf">else</span> {</span>
<span id="cb46-713"><a href="#cb46-713"></a>    <span class="co"># If no categorical variables, use the first numeric and create categories</span></span>
<span id="cb46-714"><a href="#cb46-714"></a>    numeric_var</span>
<span id="cb46-715"><a href="#cb46-715"></a>  }</span>
<span id="cb46-716"><a href="#cb46-716"></a>}</span>
<span id="cb46-717"><a href="#cb46-717"></a></span>
<span id="cb46-718"><a href="#cb46-718"></a><span class="co"># Print the chosen variable</span></span>
<span id="cb46-719"><a href="#cb46-719"></a><span class="fu">cat</span>(<span class="st">"Using categorical variable:"</span>, categorical_var, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb46-720"><a href="#cb46-720"></a></span>
<span id="cb46-721"><a href="#cb46-721"></a><span class="co"># Create a bar chart of the chosen categorical variable</span></span>
<span id="cb46-722"><a href="#cb46-722"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes_string</span>(<span class="at">x =</span> categorical_var)) <span class="sc">+</span></span>
<span id="cb46-723"><a href="#cb46-723"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"coral"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb46-724"><a href="#cb46-724"></a>  <span class="fu">labs</span>(<span class="at">x =</span> categorical_var, <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb46-725"><a href="#cb46-725"></a>       <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Distribution of"</span>, categorical_var)) <span class="sc">+</span></span>
<span id="cb46-726"><a href="#cb46-726"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb46-727"><a href="#cb46-727"></a><span class="in">```</span></span>
<span id="cb46-728"><a href="#cb46-728"></a></span>
<span id="cb46-729"><a href="#cb46-729"></a><span class="fu">#### Part b</span></span>
<span id="cb46-730"><a href="#cb46-730"></a></span>
<span id="cb46-731"><a href="#cb46-731"></a>Check out the RStudio Data Visualization cheat sheet to learn more features of ggplot.</span>
<span id="cb46-732"><a href="#cb46-732"></a></span>
<span id="cb46-733"><a href="#cb46-733"></a>I reviewed the ggplot cheat sheet and learned about additional features like: - Different geoms (boxplots, violin plots, etc.) - How to use faceting to create multiple plots - How to adjust scales and coordinates - How to customize themes and legends</span>
<span id="cb46-734"><a href="#cb46-734"></a></span>
<span id="cb46-735"><a href="#cb46-735"></a>These tools will be valuable for creating more complex and informative visualizations in the future.</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>