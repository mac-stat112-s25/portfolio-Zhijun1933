<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>7&nbsp; Bivariate Visualization – COMP/STAT112 Notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ica/ica-multi.html" rel="next">
<link href="../ica/ica-uni.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-bi.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Zhijun He</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Best Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Univariate Visualization-Best Work</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bivariate Visualization-Best Work</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-tri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Visualization-Best Work</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-quad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Viz-Best Work</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">In-class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-bi.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/real-ica-spacial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Spatial Visualization Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-effective viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Effective Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-data wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Working with Dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-reshaping data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Reshaping Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-joining data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Joining Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Working with Factors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Working with Strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-working with data import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Data Import</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-EDA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#bivariate-viz" id="toc-bivariate-viz" class="nav-link active" data-scroll-target="#bivariate-viz"><span class="header-section-number">8</span> 4 Bivariate Viz</a>
  <ul class="collapse">
<li><a href="#learning-goals" id="toc-learning-goals" class="nav-link" data-scroll-target="#learning-goals"><span class="header-section-number">8.1</span> Learning Goals</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources"><span class="header-section-number">8.2</span> Additional Resources</a></li>
  <li>
<a href="#review" id="toc-review" class="nav-link" data-scroll-target="#review"><span class="header-section-number">8.3</span> 4.1 Review</a>
  <ul class="collapse">
<li><a href="#example-1-hangout-preferences" id="toc-example-1-hangout-preferences" class="nav-link" data-scroll-target="#example-1-hangout-preferences"><span class="header-section-number">8.3.1</span> Example 1: Hangout Preferences</a></li>
  <li><a href="#example-2-temperature-preferences" id="toc-example-2-temperature-preferences" class="nav-link" data-scroll-target="#example-2-temperature-preferences"><span class="header-section-number">8.3.2</span> Example 2: Temperature Preferences</a></li>
  <li><a href="#bar-charts-vs.-histograms" id="toc-bar-charts-vs.-histograms" class="nav-link" data-scroll-target="#bar-charts-vs.-histograms"><span class="header-section-number">8.3.3</span> Bar Charts vs.&nbsp;Histograms</a></li>
  </ul>
</li>
  <li>
<a href="#new-stuff" id="toc-new-stuff" class="nav-link" data-scroll-target="#new-stuff"><span class="header-section-number">8.4</span> 4.2 New stuff</a>
  <ul class="collapse">
<li><a href="#exploring-relationships" id="toc-exploring-relationships" class="nav-link" data-scroll-target="#exploring-relationships"><span class="header-section-number">8.4.1</span> 4.2.1 Exploring relationships</a></li>
  <li><a href="#general-guidance-for-building-bivariate-plots" id="toc-general-guidance-for-building-bivariate-plots" class="nav-link" data-scroll-target="#general-guidance-for-building-bivariate-plots"><span class="header-section-number">8.4.2</span> 4.2.2 General guidance for building bivariate plots</a></li>
  </ul>
</li>
  <li>
<a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">8.5</span> 4.3 Exercises</a>
  <ul class="collapse">
<li><a href="#exercise-0-review" id="toc-exercise-0-review" class="nav-link" data-scroll-target="#exercise-0-review"><span class="header-section-number">8.5.1</span> Exercise 0: Review</a></li>
  <li><a href="#exercise-1-quantitative-vs-quantitative-intuition-check" id="toc-exercise-1-quantitative-vs-quantitative-intuition-check" class="nav-link" data-scroll-target="#exercise-1-quantitative-vs-quantitative-intuition-check"><span class="header-section-number">8.5.2</span> Exercise 1: Quantitative vs Quantitative Intuition Check</a></li>
  <li><a href="#exercise-2-2-quantitiative-variables" id="toc-exercise-2-2-quantitiative-variables" class="nav-link" data-scroll-target="#exercise-2-2-quantitiative-variables"><span class="header-section-number">8.5.3</span> Exercise 2: 2 Quantitiative Variables</a></li>
  <li><a href="#exercise-3-reflect" id="toc-exercise-3-reflect" class="nav-link" data-scroll-target="#exercise-3-reflect"><span class="header-section-number">8.5.4</span> Exercise 3: Reflect</a></li>
  <li><a href="#exercise-4-visualizing-trend" id="toc-exercise-4-visualizing-trend" class="nav-link" data-scroll-target="#exercise-4-visualizing-trend"><span class="header-section-number">8.5.5</span> Exercise 4: Visualizing trend</a></li>
  <li><a href="#exercise-5-your-turn" id="toc-exercise-5-your-turn" class="nav-link" data-scroll-target="#exercise-5-your-turn"><span class="header-section-number">8.5.6</span> Exercise 5: Your Turn</a></li>
  <li><a href="#exercise-6-a-sad-scatterplot" id="toc-exercise-6-a-sad-scatterplot" class="nav-link" data-scroll-target="#exercise-6-a-sad-scatterplot"><span class="header-section-number">8.5.7</span> Exercise 6: A Sad Scatterplot</a></li>
  <li><a href="#exercise-7-quantitative-vs-categorical-violins-boxes" id="toc-exercise-7-quantitative-vs-categorical-violins-boxes" class="nav-link" data-scroll-target="#exercise-7-quantitative-vs-categorical-violins-boxes"><span class="header-section-number">8.5.8</span> Exercise 7: Quantitative vs Categorical – Violins &amp; Boxes</a></li>
  <li><a href="#exercise-8-quantitative-vs-categorical-intuition-check" id="toc-exercise-8-quantitative-vs-categorical-intuition-check" class="nav-link" data-scroll-target="#exercise-8-quantitative-vs-categorical-intuition-check"><span class="header-section-number">8.5.9</span> Exercise 8: Quantitative vs Categorical – Intuition Check</a></li>
  <li><a href="#exercise-9-quantitative-vs-categorical-density-plots" id="toc-exercise-9-quantitative-vs-categorical-density-plots" class="nav-link" data-scroll-target="#exercise-9-quantitative-vs-categorical-density-plots"><span class="header-section-number">8.5.10</span> Exercise 9: Quantitative vs Categorical – Density Plots</a></li>
  <li><a href="#exercise-10" id="toc-exercise-10" class="nav-link" data-scroll-target="#exercise-10"><span class="header-section-number">8.5.11</span> Exercise 10</a></li>
  <li><a href="#exercise-11-categorical-vs-categorical-intuition-check" id="toc-exercise-11-categorical-vs-categorical-intuition-check" class="nav-link" data-scroll-target="#exercise-11-categorical-vs-categorical-intuition-check"><span class="header-section-number">8.5.12</span> Exercise 11: Categorical vs Categorical – Intuition Check</a></li>
  <li><a href="#exercise-12-categorical-vs-categorical" id="toc-exercise-12-categorical-vs-categorical" class="nav-link" data-scroll-target="#exercise-12-categorical-vs-categorical"><span class="header-section-number">8.5.13</span> Exercise 12: Categorical vs Categorical</a></li>
  <li><a href="#exercise-13-practice" id="toc-exercise-13-practice" class="nav-link" data-scroll-target="#exercise-13-practice"><span class="header-section-number">8.5.14</span> Exercise 13: Practice</a></li>
  </ul>
</li>
  </ul>
</li>
  <li><a href="#how-do-the-number-of-rainy-days-raintoday-differ-by-location" id="toc-how-do-the-number-of-rainy-days-raintoday-differ-by-location" class="nav-link" data-scroll-target="#how-do-the-number-of-rainy-days-raintoday-differ-by-location"><span class="header-section-number">9</span> How do the number of rainy days (raintoday) differ by location?</a></li>
  <li><a href="#raintoday-is-categorical-location-is-categorical" id="toc-raintoday-is-categorical-location-is-categorical" class="nav-link" data-scroll-target="#raintoday-is-categorical-location-is-categorical"><span class="header-section-number">10</span> raintoday is categorical, location is categorical</a></li>
  <li><a href="#alternative-with-counts-instead-of-proportions" id="toc-alternative-with-counts-instead-of-proportions" class="nav-link" data-scroll-target="#alternative-with-counts-instead-of-proportions"><span class="header-section-number">11</span> Alternative with counts instead of proportions</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-bi.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Bivariate Visualization</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="bivariate-viz" class="level1" data-number="8"><h1 data-number="8">
<span class="header-section-number">8</span> 4 Bivariate Viz</h1>
<section id="learning-goals" class="level2" data-number="8.1"><h2 data-number="8.1" class="anchored" data-anchor-id="learning-goals">
<span class="header-section-number">8.1</span> Learning Goals</h2>
<ul>
<li>Explore how to build and interpret visualizations of bivariate, i.e.&nbsp;two variable, relationships.</li>
</ul></section><section id="additional-resources" class="level2" data-number="8.2"><h2 data-number="8.2" class="anchored" data-anchor-id="additional-resources">
<span class="header-section-number">8.2</span> Additional Resources</h2>
<p>For more information about the topics covered in this chapter, refer to the resources below:</p>
<ul>
<li>ggplot demo (YouTube) by Lisa Lendway</li>
<li>common ggplot mistakes (YouTube) by Lisa Lendway</li>
<li>Visualizing amounts (html) by Wilke</li>
<li>Visualizing many distributions at once (html) by Wilke</li>
</ul></section><section id="review" class="level2" data-number="8.3"><h2 data-number="8.3" class="anchored" data-anchor-id="review">
<span class="header-section-number">8.3</span> 4.1 Review</h2>
<p>Let’s review some univariate concepts and code using our class survey data. If the answers aren’t at the top of your mind, don’t fret! We’ve barely started speaking this new language, and learned a ton of vocab last week, so you naturally won’t remember it all.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Import data</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>survey <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hash-mac.github.io/stat112site-s25/data/survey.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># How many students have now filled out the survey?</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">nrow</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># What type of variables do we have?</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">str</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   49 obs. of  4 variables:
 $ cafe_mac         : chr  "mashed potatoes" "is tasty" "burger" "caesar salad" ...
 $ minutes_to_campus: int  5 5 5 12 0 10 5 0 0 5 ...
 $ fav_temp_c       : num  26 28 19 18 24 -10 21 25 18 25 ...
 $ hangout          : chr  "the mountains" "a city" "a forest" "a forest" ...</code></pre>
</div>
</div>
<section id="example-1-hangout-preferences" class="level3" data-number="8.3.1"><h3 data-number="8.3.1" class="anchored" data-anchor-id="example-1-hangout-preferences">
<span class="header-section-number">8.3.1</span> Example 1: Hangout Preferences</h3>
<p>Students were asked, in that moment, where they’d most like to spend time outside. How did they answer? Was there a lot of agreement or a lot of variability in answers? Build and interpret a plot that helps address these questions while reviewing:</p>
<ul>
<li>“code as communication”</li>
<li>connecting with the components of a plot:
<ul>
<li>set up a frame</li>
<li>add a layer / geometric element</li>
<li>change the theme, e.g.&nbsp;axis labels, color, fill</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Attach a package needed to use the ggplot function</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Make a ggplot of hangout preferences</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> hangout)) <span class="sc">+</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Student Hangout Preferences"</span>, </span>
<span id="cb7-5"><a href="#cb7-5"></a>       <span class="at">x =</span> <span class="st">"Preferred Hangout Location"</span>, </span>
<span id="cb7-6"><a href="#cb7-6"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="example-2-temperature-preferences" class="level3" data-number="8.3.2"><h3 data-number="8.3.2" class="anchored" data-anchor-id="example-2-temperature-preferences">
<span class="header-section-number">8.3.2</span> Example 2: Temperature Preferences</h3>
<p>Students were asked about their ideal outdoor temperature, in degrees Celsius. How did they answer? What was the typical response? What was the range in responses? Were there any outliers? Build and interpret 2 plots that help address these questions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Histogram of temperature preferences</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> fav_temp_c)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Student Temperature Preferences"</span>,</span>
<span id="cb8-5"><a href="#cb8-5"></a>       <span class="at">x =</span> <span class="st">"Preferred Temperature (°C)"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Density plot of temperature preferences</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> fav_temp_c)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Density of Student Temperature Preferences"</span>,</span>
<span id="cb9-5"><a href="#cb9-5"></a>       <span class="at">x =</span> <span class="st">"Preferred Temperature (°C)"</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>       <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="bar-charts-vs.-histograms" class="level3" data-number="8.3.3"><h3 data-number="8.3.3" class="anchored" data-anchor-id="bar-charts-vs.-histograms">
<span class="header-section-number">8.3.3</span> Bar Charts vs.&nbsp;Histograms</h3>
<p>Bar charts &amp; histograms can appear pretty similar, but they do different things.</p>
<ul>
<li>Bar charts count up the number of observations of each outcome of a variable. They’re good for categorical variables, or quantitative variables with only a handful of possible outcomes.</li>
<li>Histograms count up the number of observations that fall into different numerical ranges of variable. They’re good for quantitative variables, especially those with many different observed outcomes.</li>
</ul></section></section><section id="new-stuff" class="level2" data-number="8.4"><h2 data-number="8.4" class="anchored" data-anchor-id="new-stuff">
<span class="header-section-number">8.4</span> 4.2 New stuff</h2>
<p>Thus far, we’ve been studying one variable at a time, using univariate plots. But once we get a sense of how individual variables behave on their own, our questions often turn to relationships among variables. For example, in our hikes data:</p>
<ul>
<li>How much time does it take to complete a hike? ——&gt; How is time related to a hike’s elevation? What about its length?</li>
<li>How does difficult rating vary from hike to hike? ——-&gt; How is difficulty rating related to a hike’s ascent?</li>
</ul>
<section id="exploring-relationships" class="level3" data-number="8.4.1"><h3 data-number="8.4.1" class="anchored" data-anchor-id="exploring-relationships">
<span class="header-section-number">8.4.1</span> 4.2.1 Exploring relationships</h3>
<p>Exploring univariate patterns often sparks follow-up questions about relationships between 2+ variables. Often, but not always, variables take on specific roles:</p>
<ul>
<li>response variable: the variable whose variability we would like to explain (time to complete a hike)</li>
<li>predictors: variables that might explain some of the variability in the response (a hike’s elevation or length)</li>
</ul>
<p>Visualizations can help explore:</p>
<ul>
<li>relationship trends (direction and form)</li>
<li>relationship strength (degree of variability from the trend)</li>
<li>outliers in the relationship</li>
</ul>
<section id="example-3" class="level4" data-number="8.4.1.1"><h4 data-number="8.4.1.1" class="anchored" data-anchor-id="example-3">
<span class="header-section-number">8.4.1.1</span> Example 3</h4>
<p>For each pair of variables below, sketch on paper a visualization of their relationship. Focus on general viz process, don’t worry about the exact details. The data here are totally made up.</p>
<p><strong>3pm temperature (response) vs 9am temperature (predictor)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">data.frame</span>(<span class="at">temp_3pm =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">26</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">15</span>), <span class="at">temp_9am =</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">18</span>, <span class="dv">15</span>, <span class="dv">13</span>, <span class="dv">11</span>, <span class="dv">11</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  temp_3pm temp_9am
1       24       14
2       26       18
3       20       15
4       15       13
5       15       11
6       15       11</code></pre>
</div>
</div>
<p><strong>3pm temperature (response) vs location (predictor)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">temp_3pm =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">26</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">0</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">57</span>, <span class="dv">44</span>, <span class="dv">51</span>, <span class="dv">75</span>),</span>
<span id="cb12-2"><a href="#cb12-2"></a>                     <span class="at">location =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>), <span class="at">each =</span> <span class="dv">6</span>))</span>
<span id="cb12-3"><a href="#cb12-3"></a>weather</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   temp_3pm location
1        24        A
2        26        A
3        20        A
4        15        A
5        15        A
6         0        A
7        40        B
8        60        B
9        57        B
10       44        B
11       51        B
12       75        B</code></pre>
</div>
</div>
<p>Think: How might we modify the below density plot of temp_3pm to distinguish between locations?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp_3pm)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>      <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>rain_today (the response) and location (the predictor)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">rain_today =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>),</span>
<span id="cb15-2"><a href="#cb15-2"></a>                      <span class="at">location =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>, <span class="dv">7</span>), <span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">5</span>)))</span>
<span id="cb15-3"><a href="#cb15-3"></a>weather</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   rain_today location
1          no        A
2          no        A
3          no        A
4          no        A
5         yes        A
6          no        A
7         yes        A
8          no        B
9         yes        B
10        yes        B
11         no        B
12        yes        B</code></pre>
</div>
</div>
<p>Think: How might we modify the below bar plot of location to distinguish between days on which it did or didn’t rain?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>      <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="general-guidance-for-building-bivariate-plots" class="level3" data-number="8.4.2"><h3 data-number="8.4.2" class="anchored" data-anchor-id="general-guidance-for-building-bivariate-plots">
<span class="header-section-number">8.4.2</span> 4.2.2 General guidance for building bivariate plots</h3>
<p>As with univariate plots, an appropriate visualization for the relationship between 2 variables depends upon whether the variables are quantitative or categorical. In general:</p>
<ul>
<li>Each quantitative variable requires a new axis (or a quantitative scale if we run out of axes).</li>
<li>Each categorical variable requires a new way to “group” the graphic (eg: using colors, shapes, separate facets, etc)</li>
<li>For visualizations in which overlap in glyphs or plots obscures the patterns, try faceting or transparency.</li>
</ul></section></section><section id="exercises" class="level2" data-number="8.5"><h2 data-number="8.5" class="anchored" data-anchor-id="exercises">
<span class="header-section-number">8.5</span> 4.3 Exercises</h2>
<p>Github user Tony McGovern has compiled and made available 2020/2016/2012 presidential election results for most of 3000+ U.S. counties, except Alaska.</p>
<p>A wrangled version of this data, is imported below, after being combined with:</p>
<ul>
<li>2013 county-level demographics from the df_county_demographics data set from the choroplethr R package</li>
<li>historical voting trends in the state in which the county falls (from https://www.270towin.com/content/blue-and-red-states):
<ul>
<li>red = consistently Republican</li>
<li>blue = consistently Democratic</li>
<li>purple = something in between</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Load data</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>elections <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/election_2020_county.csv"</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co"># Check it out</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">head</span>(elections)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  state_name state_abbr historical    county_name county_fips total_votes_20
1    Alabama         AL        red Autauga County        1001          27770
2    Alabama         AL        red Baldwin County        1003         109679
3    Alabama         AL        red Barbour County        1005          10518
4    Alabama         AL        red    Bibb County        1007           9595
5    Alabama         AL        red  Blount County        1009          27588
6    Alabama         AL        red Bullock County        1011           4613
  repub_pct_20 dem_pct_20 winner_20 total_votes_16 repub_pct_16 dem_pct_16
1        71.44      27.02     repub          24661        73.44      23.96
2        76.17      22.41     repub          94090        77.35      19.57
3        53.45      45.79     repub          10390        52.27      46.66
4        78.43      20.70     repub           8748        76.97      21.42
5        89.57       9.57     repub          25384        89.85       8.47
6        24.84      74.70       dem           4701        24.23      75.09
  winner_16 total_votes_12 repub_pct_12 dem_pct_12 winner_12 total_population
1     repub          23909        72.63      26.58     repub            54907
2     repub          84988        77.39      21.57     repub           187114
3     repub          11459        48.34      51.25       dem            27321
4     repub           8391        73.07      26.22     repub            22754
5     repub          23980        86.49      12.35     repub            57623
6       dem           5318        23.51      76.31       dem            10746
  percent_white percent_black percent_asian percent_hispanic per_capita_income
1            76            18             1                2             24571
2            83             9             1                4             26766
3            46            46             0                5             16829
4            75            22             0                2             17427
5            88             1             0                8             20730
6            22            71             0                6             18628
  median_rent median_age
1         668       37.5
2         693       41.5
3         382       38.3
4         351       39.4
5         403       39.6
6         276       39.6</code></pre>
</div>
</div>
<p>We’ll use this data to explore voting outcomes within the U.S.’s 2-party system. Here’s a list of candidates by year:</p>
<table class="caption-top table">
<thead><tr class="header">
<th>year</th>
<th>Republican candidate</th>
<th>Democratic candidate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2020</td>
<td>Donald Trump</td>
<td>Joe Biden</td>
</tr>
<tr class="even">
<td>2016</td>
<td>Donald Trump</td>
<td>Hillary Clinton</td>
</tr>
<tr class="odd">
<td>2012</td>
<td>Mitt Romney</td>
<td>Barack Obama</td>
</tr>
</tbody>
</table>
<section id="exercise-0-review" class="level3" data-number="8.5.1"><h3 data-number="8.5.1" class="anchored" data-anchor-id="exercise-0-review">
<span class="header-section-number">8.5.1</span> Exercise 0: Review</h3>
<section id="part-a" class="level4" data-number="8.5.1.1"><h4 data-number="8.5.1.1" class="anchored" data-anchor-id="part-a">
<span class="header-section-number">8.5.1.1</span> Part a</h4>
<p>How many, or roughly what percent, of the 3000+ counties did the Republican candidate win in 2020?</p>
<ul>
<li>Take a guess.</li>
<li>Then make a plot of the winner variable.</li>
<li>Then discuss what follow-up questions you might have (and that our data might help us answer).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Make a bar plot of the winner variable</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 Election Winners by County"</span>,</span>
<span id="cb20-5"><a href="#cb20-5"></a>       <span class="at">x =</span> <span class="st">"Winner"</span>,</span>
<span id="cb20-6"><a href="#cb20-6"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Answer</strong>: Based on the plot, it appears that the Republican candidate won in approximately 2,500 counties, which is roughly 80-85% of the total counties.</p>
<p>Follow-up questions might include: - How does this compare to the number of counties won in previous elections (2016, 2012)? - Are there regional patterns in which counties vote Republican vs Democratic? - Do demographic factors like population density, income, education, etc. correlate with voting patterns? - How does the number of counties won relate to the popular vote and electoral college results?</p>
</section><section id="part-b" class="level4" data-number="8.5.1.2"><h4 data-number="8.5.1.2" class="anchored" data-anchor-id="part-b">
<span class="header-section-number">8.5.1.2</span> Part b</h4>
<p>The repub_pct_20 variable provides more detail about the Republican support in each county. Construct a plot of repub_pct_20.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Histogram of Republican support in 2020</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"red"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Republican Support in 2020 by County"</span>,</span>
<span id="cb21-5"><a href="#cb21-5"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2020)"</span>,</span>
<span id="cb21-6"><a href="#cb21-6"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Density plot of Republican support in 2020</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Density of Republican Support in 2020 by County"</span>,</span>
<span id="cb22-5"><a href="#cb22-5"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2020)"</span>,</span>
<span id="cb22-6"><a href="#cb22-6"></a>       <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-12-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Notice that the distribution of Republican support from county to county is slightly left skewed or negatively skewed.</p>
<p>Follow-up questions: - Why is the distribution of Republican support left-skewed? - How does population density relate to the Republican vote share? - Are there regional patterns in Republican support? - How has Republican support in counties changed from 2016 to 2020?</p>
</section></section><section id="exercise-1-quantitative-vs-quantitative-intuition-check" class="level3" data-number="8.5.2"><h3 data-number="8.5.2" class="anchored" data-anchor-id="exercise-1-quantitative-vs-quantitative-intuition-check">
<span class="header-section-number">8.5.2</span> Exercise 1: Quantitative vs Quantitative Intuition Check</h3>
<p>Below is a scatterplot of the Republican support in 2020 vs 2016. Notice that:</p>
<ul>
<li>both variables are quantitative, and get their own axes</li>
<li>the response variable is on the y-axis, demonstrating how repub_pct_20 might be predicted by repub_pct_16, not vice versa</li>
</ul>
<p>Try to replicate this using ggplot(). THINK:</p>
<ul>
<li>What info do you need to set up the canvas?</li>
<li>What geometric layer (geom_???) might add these dots / points for each county? We haven’t learned this yet, just take some guesses.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Create a scatterplot of Republican support in 2020 vs 2016</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_16, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support in 2020 vs 2016 by County"</span>,</span>
<span id="cb23-5"><a href="#cb23-5"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2016)"</span>,</span>
<span id="cb23-6"><a href="#cb23-6"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-2-2-quantitiative-variables" class="level3" data-number="8.5.3"><h3 data-number="8.5.3" class="anchored" data-anchor-id="exercise-2-2-quantitiative-variables">
<span class="header-section-number">8.5.3</span> Exercise 2: 2 Quantitiative Variables</h3>
<p>Run each chunk below to build up a a scatterplot of repub_pct_20 vs repub_pct_16 with different glyphs representing each county. Address or think about any prompts in the comments (#).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Set up the plotting frame</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co"># How does this differ than the frame for our histogram of repub_pct_20 alone?</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># ANSWER: We now have two variables mapped to x and y axes, instead of just one variable on the x-axis</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># Add a layer of points for each county</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co"># Take note of the geom!</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Change the shape of the points</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="co"># What happens if you change the shape to another number?</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># Modify the code to make the points "orange"</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Add a layer that represents each county by the state it's in</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co"># Take note of the geom and the info it needs to run!</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> state_abbr))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-3-reflect" class="level3" data-number="8.5.4"><h3 data-number="8.5.4" class="anchored" data-anchor-id="exercise-3-reflect">
<span class="header-section-number">8.5.4</span> Exercise 3: Reflect</h3>
<p>Summarize the relationship between the Republican support in 2020 and 2016. Be sure to comment on:</p>
<ul>
<li>the strength of the relationship (weak/moderate/strong)</li>
<li>the direction of the relationship (positive/negative)</li>
<li>outliers (in what state do counties deviate from the national trend? Any ideas why this might be the case?)</li>
</ul>
<p><strong>Answer</strong>: The relationship between Republican support in 2020 and 2016 is very strong and positive - counties that had high Republican support in 2016 generally also had high Republican support in 2020. The points closely follow a linear pattern with most points falling near the diagonal line.</p>
<p>Looking at the text plot, there appear to be some outliers in states like Utah (UT) where Republican support decreased from 2016 to 2020, and in Texas (TX) where Republican support increased in some counties. These deviations might be due to factors like changing demographics, candidate-specific factors, or local political developments between the two elections.</p>
</section><section id="exercise-4-visualizing-trend" class="level3" data-number="8.5.5"><h3 data-number="8.5.5" class="anchored" data-anchor-id="exercise-4-visualizing-trend">
<span class="header-section-number">8.5.5</span> Exercise 4: Visualizing trend</h3>
<p>The trend of the relationship between repub_pct_20 and repub_pct_16 is clearly positive and (mostly) linear. We can highlight this trend by adding a model “smooth” to the plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="part-a-1" class="level4" data-number="8.5.5.1"><h4 data-number="8.5.5.1" class="anchored" data-anchor-id="part-a-1">
<span class="header-section-number">8.5.5.1</span> Part a</h4>
<p>Construct a new plot that contains the model smooth but does not include the individual point glyphs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trend in Republican Support: 2020 vs 2016"</span>,</span>
<span id="cb31-4"><a href="#cb31-4"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2016)"</span>,</span>
<span id="cb31-5"><a href="#cb31-5"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="part-b-1" class="level4" data-number="8.5.5.2"><h4 data-number="8.5.5.2" class="anchored" data-anchor-id="part-b-1">
<span class="header-section-number">8.5.5.2</span> Part b</h4>
<p>By default, geom_smooth() adds a smooth, localized model line. To examine the “best” linear model, we can specify method = “lm”. It’s pretty similar in this example!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="exercise-5-your-turn" class="level3" data-number="8.5.6"><h3 data-number="8.5.6" class="anchored" data-anchor-id="exercise-5-your-turn">
<span class="header-section-number">8.5.6</span> Exercise 5: Your Turn</h3>
<p>To examine how the 2020 results are related to some county demographics, construct scatterplots of repub_pct_20 vs median_rent, and repub_pct_20 vs median_age. Summarize the relationship between these two variables and comment on which is the better predictor of repub_pct_20, median_rent or median_age.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># Scatterplot of repub_pct_20 vs median_rent</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> median_rent, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support vs Median Rent"</span>,</span>
<span id="cb35-6"><a href="#cb35-6"></a>       <span class="at">x =</span> <span class="st">"Median Rent ($)"</span>,</span>
<span id="cb35-7"><a href="#cb35-7"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># Scatterplot of repub_pct_20 vs median_age</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support vs Median Age"</span>,</span>
<span id="cb37-6"><a href="#cb37-6"></a>       <span class="at">x =</span> <span class="st">"Median Age (years)"</span>,</span>
<span id="cb37-7"><a href="#cb37-7"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Answer</strong>: The scatterplot of Republican support versus median rent shows a moderate to strong negative relationship - as median rent increases, Republican support tends to decrease. This likely reflects the urban-rural divide in American politics, with urban areas having higher rents and tending to vote more Democratic.</p>
<p>The scatterplot of Republican support versus median age shows a weaker positive relationship - counties with higher median ages tend to have slightly higher Republican support, but the relationship isn’t as strong as with median rent.</p>
<p>Based on these visualizations, median rent appears to be a better predictor of Republican support than median age, as the relationship is stronger and the points show less scatter around the trend line.</p>
</section><section id="exercise-6-a-sad-scatterplot" class="level3" data-number="8.5.7"><h3 data-number="8.5.7" class="anchored" data-anchor-id="exercise-6-a-sad-scatterplot">
<span class="header-section-number">8.5.7</span> Exercise 6: A Sad Scatterplot</h3>
<p>Next, let’s explore the relationship between a county’s 2020 Republican support repub_pct_20 and the historical political trends in its state. In this case repub_pct_20 is quantitative, but historical is categorical. Explain why a scatterplot might not be an effective visualization for exploring this relationship. (What questions does / doesn’t it help answer?)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Answer</strong>: This scatterplot is not very effective because:</p>
<ol type="1">
<li><p>The x-axis (historical) is categorical with only three values (blue, purple, red), so all points are stacked in three vertical columns, making it hard to see the distribution within each category.</p></li>
<li><p>There is significant overplotting - many points are drawn on top of each other, making it impossible to see the density of points at various levels of Republican support within each category.</p></li>
<li><p>The visualization doesn’t show us how many counties fall into each historical category.</p></li>
<li><p>It’s difficult to compare the central tendency and spread of Republican support across the three categories.</p></li>
</ol>
<p>This plot can tell us the range of Republican support within each category, but it doesn’t effectively show us the distribution patterns or allow easy comparison between categories.</p>
</section><section id="exercise-7-quantitative-vs-categorical-violins-boxes" class="level3" data-number="8.5.8"><h3 data-number="8.5.8" class="anchored" data-anchor-id="exercise-7-quantitative-vs-categorical-violins-boxes">
<span class="header-section-number">8.5.8</span> Exercise 7: Quantitative vs Categorical – Violins &amp; Boxes</h3>
<p>Though the above scatterplot did group the counties by historical category, it’s nearly impossible to pick out meaningful patterns in 2020 Republican support in each category. Let’s try adding 2 different geom layers to the frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># Side-by-side violin plots</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="fu">geom_violin</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Side-by-side boxplots</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Box plots are constructed from five numbers - the minimum, 25th percentile, median, 75th percentile, and maximum value of a quantitative variable.</p>
<p>REFLECT:</p>
<p>Summarize what you’ve learned about the 2020 Republican county-level support within and between red/purple/blue states.</p>
<p><strong>Answer</strong>: The violin and box plots reveal clear patterns in Republican support across counties in different types of states:</p>
<ol type="1">
<li><p>Counties in red states have the highest Republican support overall, with a median around 70-75%, and most counties falling between 60-85%.</p></li>
<li><p>Counties in purple states show a wider spread of Republican support, with a median around 55-60% and more variability.</p></li>
<li><p>Counties in blue states have the lowest Republican support overall, with a median around 40-45%, but interestingly have a bimodal distribution as shown in the violin plot - there are clusters of counties with very low Republican support (likely urban areas) and others with moderate Republican support (likely rural areas).</p></li>
<li><p>There’s some overlap in Republican support levels across all three categories, showing that state-level trends don’t completely determine county-level voting patterns.</p></li>
<li><p>All three categories have outliers, showing that even in consistently blue states, some counties can be strongly Republican, and vice versa.</p></li>
</ol></section><section id="exercise-8-quantitative-vs-categorical-intuition-check" class="level3" data-number="8.5.9"><h3 data-number="8.5.9" class="anchored" data-anchor-id="exercise-8-quantitative-vs-categorical-intuition-check">
<span class="header-section-number">8.5.9</span> Exercise 8: Quantitative vs Categorical – Intuition Check</h3>
<p>We can also visualize the relationship between repub_pct_20 and historical using our familiar density plots. In the plot below, notice that we simply created a separate density plot for each historical category. (The plot itself is “bad” but we’ll fix it below.) Try to adjust the code chunk below, which starts with a density plot of repub_pct_20 alone, to re-create this image.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># Original density plot of Republican support</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Separate density plots by historical category</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-27-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-9-quantitative-vs-categorical-density-plots" class="level3" data-number="8.5.10"><h3 data-number="8.5.10" class="anchored" data-anchor-id="exercise-9-quantitative-vs-categorical-density-plots">
<span class="header-section-number">8.5.10</span> Exercise 9: Quantitative vs Categorical – Density Plots</h3>
<p>Work through the chunks below and address the comments therein.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># Name two "bad" things about this plot</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="co"># 1. The colors don't match the category names (red, blue, purple)</span></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="co"># 2. The density plots completely overlap, making it hard to see all three distributions</span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># What does scale_fill_manual do?</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="co"># It manually assigns specific colors to each category in the fill aesthetic</span></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># What does alpha = 0.5 do?</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="co"># It adds transparency to the fill colors, making it possible to see overlapping distributions</span></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="co"># Play around with different values of alpha, between 0 and 1</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># What does facet_wrap do?</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="co"># It creates separate panels (facets) for each category of the historical variable</span></span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> historical)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Let's try a similar grouping strategy with a histogram instead of density plot.</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="co"># Why is this terrible?</span></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="co"># The bars from different categories stack on top of each other rather than showing side by side,</span></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="co"># making it impossible to compare the distributions properly</span></span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-10" class="level3" data-number="8.5.11"><h3 data-number="8.5.11" class="anchored" data-anchor-id="exercise-10">
<span class="header-section-number">8.5.11</span> Exercise 10</h3>
<p>We’ve now learned 3 (of many) ways to visualize the relationship between a quantitative and categorical variable: side-by-side violins, boxplots, and density plots.</p>
<ol type="1">
<li>Which do you like best?</li>
</ol>
<p><strong>Answer</strong>: I personally find boxplots most informative, as they clearly show the median and quartiles, making it easy to compare central tendency and spread across categories. However, density plots are better for seeing the full shape of the distribution, especially when distributions are bimodal or have unusual shapes.</p>
<ol start="2" type="1">
<li>What is one pro of density plots relative to boxplots?</li>
</ol>
<p><strong>Answer</strong>: Density plots show the full shape of the distribution and can reveal features like bimodality or skewness that boxplots might miss. For example, the violin plot showed that blue states have a bimodal distribution of Republican support, which a boxplot wouldn’t clearly show.</p>
<ol start="3" type="1">
<li>What is one con of density plots relative to boxplots?</li>
</ol>
<p><strong>Answer</strong>: Density plots don’t provide clear numerical summaries like the median and quartiles that boxplots show, making it harder to make precise comparisons between groups. They can also be more difficult for audiences unfamiliar with statistics to interpret.</p>
</section><section id="exercise-11-categorical-vs-categorical-intuition-check" class="level3" data-number="8.5.12"><h3 data-number="8.5.12" class="anchored" data-anchor-id="exercise-11-categorical-vs-categorical-intuition-check">
<span class="header-section-number">8.5.12</span> Exercise 11: Categorical vs Categorical – Intuition Check</h3>
<p>Finally, let’s simply explore who won each county in 2020 (winner_20) and how this breaks down by historical voting trends in the state. That is, let’s explore the relationship between 2 categorical variables! Following the same themes as above, we can utilize grouping features such as fill/color or facets to distinguish between different categories of winner_20 and historical.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="co"># Plot 1: Bar chart with historical categories filled by winner</span></span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb50-6"><a href="#cb50-6"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb50-7"><a href="#cb50-7"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb50-8"><a href="#cb50-8"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb50-9"><a href="#cb50-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="co"># Plot 2: Bar chart with winner categories filled by historical</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Counties by 2020 Winner and Historical State Voting Pattern"</span>,</span>
<span id="cb51-6"><a href="#cb51-6"></a>       <span class="at">x =</span> <span class="st">"2020 Winner"</span>,</span>
<span id="cb51-7"><a href="#cb51-7"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb51-8"><a href="#cb51-8"></a>       <span class="at">fill =</span> <span class="st">"Historical Pattern"</span>) <span class="sc">+</span></span>
<span id="cb51-9"><a href="#cb51-9"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-12-categorical-vs-categorical" class="level3" data-number="8.5.13"><h3 data-number="8.5.13" class="anchored" data-anchor-id="exercise-12-categorical-vs-categorical">
<span class="header-section-number">8.5.13</span> Exercise 12: Categorical vs Categorical</h3>
<p>Construct the following 4 bar plot visualizations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># A stacked bar plot</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="co"># How are the "historical" and "winner_20" variables mapped to the plot, i.e. what roles do they play?</span></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="co"># historical = x-axis categories, winner_20 = fill colors within each bar</span></span>
<span id="cb52-4"><a href="#cb52-4"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb52-8"><a href="#cb52-8"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb52-9"><a href="#cb52-9"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb52-10"><a href="#cb52-10"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb52-11"><a href="#cb52-11"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co"># A faceted bar plot</span></span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> historical) <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 Winners Faceted by Historical State Voting Pattern"</span>,</span>
<span id="cb53-6"><a href="#cb53-6"></a>       <span class="at">x =</span> <span class="st">"2020 Winner"</span>,</span>
<span id="cb53-7"><a href="#cb53-7"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># A side-by-side bar plot</span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="co"># Note the new argument to geom_bar</span></span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"County Winners by Historical State Voting Pattern (Side-by-Side)"</span>,</span>
<span id="cb54-7"><a href="#cb54-7"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb54-8"><a href="#cb54-8"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb54-9"><a href="#cb54-9"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb54-10"><a href="#cb54-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># A proportional bar plot</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="co"># Note the new argument to geom_bar</span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb55-7"><a href="#cb55-7"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb55-8"><a href="#cb55-8"></a>       <span class="at">y =</span> <span class="st">"Proportion of Counties"</span>,</span>
<span id="cb55-9"><a href="#cb55-9"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb55-10"><a href="#cb55-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="part-a-2" class="level4" data-number="8.5.13.1"><h4 data-number="8.5.13.1" class="anchored" data-anchor-id="part-a-2">
<span class="header-section-number">8.5.13.1</span> Part a</h4>
<p>Name one pro and one con of using the “proportional bar plot” instead of one of the other three options.</p>
<p><strong>Pro</strong>: The proportional bar plot makes it easier to compare the relative proportion of Democratic vs Republican counties within each historical category, especially when the number of counties in each category varies significantly.</p>
<p><strong>Con</strong>: The proportional bar plot loses information about the absolute number of counties in each category, making it impossible to tell which category has more counties overall.</p>
</section><section id="part-b-2" class="level4" data-number="8.5.13.2"><h4 data-number="8.5.13.2" class="anchored" data-anchor-id="part-b-2">
<span class="header-section-number">8.5.13.2</span> Part b</h4>
<p>What’s your favorite bar plot from part and why?</p>
<p><strong>Answer</strong>: I find the side-by-side bar plot (position = “dodge”) most informative because it allows for easy comparison of both: 1. The absolute number of counties won by each party within each historical category 2. The relative numbers between categories</p>
<p>This makes it easier to see patterns while preserving information about the total counts, unlike the proportional plot which loses the absolute counts.</p>
</section></section><section id="exercise-13-practice" class="level3" data-number="8.5.14"><h3 data-number="8.5.14" class="anchored" data-anchor-id="exercise-13-practice">
<span class="header-section-number">8.5.14</span> Exercise 13: Practice</h3>
<p>Import some daily weather data from a few locations in Australia:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/weather_3_locations.csv"</span>)</span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="fu">head</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        date   location mintemp maxtemp rainfall evaporation sunshine
1 2020-01-01 Wollongong    17.1    23.1        0          NA       NA
2 2020-01-02 Wollongong    17.7    24.2        0          NA       NA
3 2020-01-03 Wollongong    19.7    26.8        0          NA       NA
4 2020-01-04 Wollongong    20.4    35.5        0          NA       NA
5 2020-01-05 Wollongong    19.8    21.4        0          NA       NA
6 2020-01-06 Wollongong    18.3    22.9        0          NA       NA
  windgustdir windgustspeed winddir9am winddir3pm windspeed9am windspeed3pm
1         SSW            39        SSW        SSE           20           15
2         SSW            37          S        ENE           13           15
3          NE            41        NNW        NNE            7           17
4         SSW            78         NE        NNE           15           17
5         SSW            57        SSW          S           31           35
6          NE            35        ESE         NE           17           20
  humidity9am humidity3pm pressure9am pressure3pm cloud9am cloud3pm temp9am
1          69          64      1014.9      1014.0        8        1    19.1
2          72          54      1020.1      1017.7        7        1    19.8
3          72          71      1017.5      1013.0        6       NA    23.4
4          77          69      1008.8      1003.9       NA       NA    24.5
5          70          75      1018.9      1019.9       NA        7    20.7
6          71          71      1021.2      1018.2       NA       NA    20.9
  temp3pm raintoday risk_mm raintomorrow
1    22.9        No     0.0           No
2    23.6        No     0.0           No
3    25.7        No     0.0           No
4    26.7        No     0.0           No
5    20.0        No     0.0           No
6    22.6        No     0.8           No</code></pre>
</div>
</div>
<p>Construct plots that address the research questions in each chunk. You might make multiple plots–there are many ways to do things!. However, don’t just throw spaghetti at the wall.</p>
<p>Reflect before doing anything. What types of variables are these? How might you plot just 1 of the variables, and then tweak the plot to incorporate the other?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># How do 3pm temperatures (temp3pm) differ by location?</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="co"># temp3pm is quantitative, location is categorical</span></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">y =</span> temp3pm)) <span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"3PM Temperatures by Location"</span>,</span>
<span id="cb58-6"><a href="#cb58-6"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb58-7"><a href="#cb58-7"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>) <span class="sc">+</span></span>
<span id="cb58-8"><a href="#cb58-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 19 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># Alternative visualization with violin plots</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">y =</span> temp3pm)) <span class="sc">+</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of 3PM Temperatures by Location"</span>,</span>
<span id="cb60-5"><a href="#cb60-5"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb60-6"><a href="#cb60-6"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 19 rows containing non-finite outside the scale range
(`stat_ydensity()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-40-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># How might we predict the 3pm temperature (temp3pm) by the 9am temperature (temp9am)?</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="co"># Both are quantitative variables</span></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp9am, <span class="at">y =</span> temp3pm, <span class="at">color =</span> location)) <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"3PM Temperature vs 9AM Temperature"</span>,</span>
<span id="cb62-7"><a href="#cb62-7"></a>       <span class="at">x =</span> <span class="st">"Temperature at 9AM (°C)"</span>,</span>
<span id="cb62-8"><a href="#cb62-8"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>,</span>
<span id="cb62-9"><a href="#cb62-9"></a>       <span class="at">color =</span> <span class="st">"Location"</span>) <span class="sc">+</span></span>
<span id="cb62-10"><a href="#cb62-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 27 rows containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 27 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-bi_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section></section><section id="how-do-the-number-of-rainy-days-raintoday-differ-by-location" class="level1" data-number="9"><h1 data-number="9">
<span class="header-section-number">9</span> How do the number of rainy days (raintoday) differ by location?</h1>
</section><section id="raintoday-is-categorical-location-is-categorical" class="level1" data-number="10"><h1 data-number="10">
<span class="header-section-number">10</span> raintoday is categorical, location is categorical</h1>
<p>ggplot(weather, aes(x = location, fill = raintoday)) + geom_bar(position = “fill”) + scale_fill_manual(values = c(“skyblue”, “navy”)) + labs(title = “Proportion of Rainy Days by Location”, x = “Location”, y = “Proportion of Days”, fill = “Rain Today”) + theme_minimal()</p>
</section><section id="alternative-with-counts-instead-of-proportions" class="level1" data-number="11"><h1 data-number="11">
<span class="header-section-number">11</span> Alternative with counts instead of proportions</h1>
<p>ggplot(weather, aes(x = location, fill = raintoday)) + geom_bar(position = “dodge”) + scale_fill_manual(values = c(“skyblue”, “navy”)) + labs(title = “Number of Rainy vs Non-Rainy Days by Location”, x = “Location”, y = “Number of Days”, fill = “Rain Today”) + theme_minimal()</p>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../ica/ica-uni.html" class="pagination-link" aria-label="Univariate Visualization">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Univariate Visualization</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ica/ica-multi.html" class="pagination-link" aria-label="Multivariate Viz">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb66" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb66-1"><a href="#cb66-1"></a><span class="co">---</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="an">title:</span><span class="co"> "Bivariate Visualization"</span></span>
<span id="cb66-3"><a href="#cb66-3"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb66-5"><a href="#cb66-5"></a><span class="co">---</span></span>
<span id="cb66-6"><a href="#cb66-6"></a></span>
<span id="cb66-9"><a href="#cb66-9"></a><span class="in">```{r}</span></span>
<span id="cb66-10"><a href="#cb66-10"></a><span class="co">#| label: setup</span></span>
<span id="cb66-11"><a href="#cb66-11"></a><span class="co">#| include: false</span></span>
<span id="cb66-12"><a href="#cb66-12"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb66-13"><a href="#cb66-13"></a><span class="in">```</span></span>
<span id="cb66-14"><a href="#cb66-14"></a></span>
<span id="cb66-15"><a href="#cb66-15"></a><span class="fu"># 4 Bivariate Viz</span></span>
<span id="cb66-16"><a href="#cb66-16"></a></span>
<span id="cb66-17"><a href="#cb66-17"></a><span class="fu">## Learning Goals</span></span>
<span id="cb66-18"><a href="#cb66-18"></a></span>
<span id="cb66-19"><a href="#cb66-19"></a><span class="ss">-   </span>Explore how to build and interpret visualizations of bivariate, i.e. two variable, relationships.</span>
<span id="cb66-20"><a href="#cb66-20"></a></span>
<span id="cb66-21"><a href="#cb66-21"></a><span class="fu">## Additional Resources</span></span>
<span id="cb66-22"><a href="#cb66-22"></a></span>
<span id="cb66-23"><a href="#cb66-23"></a>For more information about the topics covered in this chapter, refer to the resources below:</span>
<span id="cb66-24"><a href="#cb66-24"></a></span>
<span id="cb66-25"><a href="#cb66-25"></a><span class="ss">-   </span>ggplot demo (YouTube) by Lisa Lendway</span>
<span id="cb66-26"><a href="#cb66-26"></a><span class="ss">-   </span>common ggplot mistakes (YouTube) by Lisa Lendway</span>
<span id="cb66-27"><a href="#cb66-27"></a><span class="ss">-   </span>Visualizing amounts (html) by Wilke</span>
<span id="cb66-28"><a href="#cb66-28"></a><span class="ss">-   </span>Visualizing many distributions at once (html) by Wilke</span>
<span id="cb66-29"><a href="#cb66-29"></a></span>
<span id="cb66-30"><a href="#cb66-30"></a><span class="fu">## 4.1 Review</span></span>
<span id="cb66-31"><a href="#cb66-31"></a></span>
<span id="cb66-32"><a href="#cb66-32"></a>Let's review some univariate concepts and code using our class survey data. If the answers aren't at the top of your mind, don't fret! We've barely started speaking this new language, and learned a ton of vocab last week, so you naturally won't remember it all.</span>
<span id="cb66-33"><a href="#cb66-33"></a></span>
<span id="cb66-36"><a href="#cb66-36"></a><span class="in">```{r}</span></span>
<span id="cb66-37"><a href="#cb66-37"></a><span class="co"># Import data</span></span>
<span id="cb66-38"><a href="#cb66-38"></a>survey <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://hash-mac.github.io/stat112site-s25/data/survey.csv"</span>)</span>
<span id="cb66-39"><a href="#cb66-39"></a></span>
<span id="cb66-40"><a href="#cb66-40"></a><span class="co"># How many students have now filled out the survey?</span></span>
<span id="cb66-41"><a href="#cb66-41"></a><span class="fu">nrow</span>(survey)</span>
<span id="cb66-42"><a href="#cb66-42"></a></span>
<span id="cb66-43"><a href="#cb66-43"></a><span class="co"># What type of variables do we have?</span></span>
<span id="cb66-44"><a href="#cb66-44"></a><span class="fu">str</span>(survey)</span>
<span id="cb66-45"><a href="#cb66-45"></a><span class="in">```</span></span>
<span id="cb66-46"><a href="#cb66-46"></a></span>
<span id="cb66-47"><a href="#cb66-47"></a><span class="fu">### Example 1: Hangout Preferences</span></span>
<span id="cb66-48"><a href="#cb66-48"></a></span>
<span id="cb66-49"><a href="#cb66-49"></a>Students were asked, in that moment, where they'd most like to spend time outside. How did they answer? Was there a lot of agreement or a lot of variability in answers? Build and interpret a plot that helps address these questions while reviewing:</span>
<span id="cb66-50"><a href="#cb66-50"></a></span>
<span id="cb66-51"><a href="#cb66-51"></a><span class="ss">-   </span>"code as communication"</span>
<span id="cb66-52"><a href="#cb66-52"></a><span class="ss">-   </span>connecting with the components of a plot:</span>
<span id="cb66-53"><a href="#cb66-53"></a><span class="ss">    -   </span>set up a frame</span>
<span id="cb66-54"><a href="#cb66-54"></a><span class="ss">    -   </span>add a layer / geometric element</span>
<span id="cb66-55"><a href="#cb66-55"></a><span class="ss">    -   </span>change the theme, e.g. axis labels, color, fill</span>
<span id="cb66-56"><a href="#cb66-56"></a></span>
<span id="cb66-59"><a href="#cb66-59"></a><span class="in">```{r}</span></span>
<span id="cb66-60"><a href="#cb66-60"></a><span class="co"># Attach a package needed to use the ggplot function</span></span>
<span id="cb66-61"><a href="#cb66-61"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb66-62"><a href="#cb66-62"></a></span>
<span id="cb66-63"><a href="#cb66-63"></a><span class="co"># Make a ggplot of hangout preferences</span></span>
<span id="cb66-64"><a href="#cb66-64"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> hangout)) <span class="sc">+</span> </span>
<span id="cb66-65"><a href="#cb66-65"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-66"><a href="#cb66-66"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Student Hangout Preferences"</span>, </span>
<span id="cb66-67"><a href="#cb66-67"></a>       <span class="at">x =</span> <span class="st">"Preferred Hangout Location"</span>, </span>
<span id="cb66-68"><a href="#cb66-68"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb66-69"><a href="#cb66-69"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-70"><a href="#cb66-70"></a><span class="in">```</span></span>
<span id="cb66-71"><a href="#cb66-71"></a></span>
<span id="cb66-72"><a href="#cb66-72"></a><span class="fu">### Example 2: Temperature Preferences</span></span>
<span id="cb66-73"><a href="#cb66-73"></a></span>
<span id="cb66-74"><a href="#cb66-74"></a>Students were asked about their ideal outdoor temperature, in degrees Celsius. How did they answer? What was the typical response? What was the range in responses? Were there any outliers? Build and interpret 2 plots that help address these questions.</span>
<span id="cb66-75"><a href="#cb66-75"></a></span>
<span id="cb66-78"><a href="#cb66-78"></a><span class="in">```{r}</span></span>
<span id="cb66-79"><a href="#cb66-79"></a><span class="co"># Histogram of temperature preferences</span></span>
<span id="cb66-80"><a href="#cb66-80"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> fav_temp_c)) <span class="sc">+</span></span>
<span id="cb66-81"><a href="#cb66-81"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb66-82"><a href="#cb66-82"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Student Temperature Preferences"</span>,</span>
<span id="cb66-83"><a href="#cb66-83"></a>       <span class="at">x =</span> <span class="st">"Preferred Temperature (°C)"</span>,</span>
<span id="cb66-84"><a href="#cb66-84"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb66-85"><a href="#cb66-85"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-86"><a href="#cb66-86"></a></span>
<span id="cb66-87"><a href="#cb66-87"></a><span class="co"># Density plot of temperature preferences</span></span>
<span id="cb66-88"><a href="#cb66-88"></a><span class="fu">ggplot</span>(survey, <span class="fu">aes</span>(<span class="at">x =</span> fav_temp_c)) <span class="sc">+</span></span>
<span id="cb66-89"><a href="#cb66-89"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-90"><a href="#cb66-90"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Density of Student Temperature Preferences"</span>,</span>
<span id="cb66-91"><a href="#cb66-91"></a>       <span class="at">x =</span> <span class="st">"Preferred Temperature (°C)"</span>,</span>
<span id="cb66-92"><a href="#cb66-92"></a>       <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb66-93"><a href="#cb66-93"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-94"><a href="#cb66-94"></a><span class="in">```</span></span>
<span id="cb66-95"><a href="#cb66-95"></a></span>
<span id="cb66-96"><a href="#cb66-96"></a><span class="fu">### Bar Charts vs. Histograms</span></span>
<span id="cb66-97"><a href="#cb66-97"></a></span>
<span id="cb66-98"><a href="#cb66-98"></a>Bar charts &amp; histograms can appear pretty similar, but they do different things.</span>
<span id="cb66-99"><a href="#cb66-99"></a></span>
<span id="cb66-100"><a href="#cb66-100"></a><span class="ss">-   </span>Bar charts count up the number of observations of each outcome of a variable. They're good for categorical variables, or quantitative variables with only a handful of possible outcomes.</span>
<span id="cb66-101"><a href="#cb66-101"></a><span class="ss">-   </span>Histograms count up the number of observations that fall into different numerical ranges of variable. They're good for quantitative variables, especially those with many different observed outcomes.</span>
<span id="cb66-102"><a href="#cb66-102"></a></span>
<span id="cb66-103"><a href="#cb66-103"></a><span class="fu">## 4.2 New stuff</span></span>
<span id="cb66-104"><a href="#cb66-104"></a></span>
<span id="cb66-105"><a href="#cb66-105"></a>Thus far, we've been studying one variable at a time, using univariate plots. But once we get a sense of how individual variables behave on their own, our questions often turn to relationships among variables. For example, in our hikes data:</span>
<span id="cb66-106"><a href="#cb66-106"></a></span>
<span id="cb66-107"><a href="#cb66-107"></a><span class="ss">-   </span>How much time does it take to complete a hike? ——&gt; How is time related to a hike's elevation? What about its length?</span>
<span id="cb66-108"><a href="#cb66-108"></a><span class="ss">-   </span>How does difficult rating vary from hike to hike? ——-&gt; How is difficulty rating related to a hike's ascent?</span>
<span id="cb66-109"><a href="#cb66-109"></a></span>
<span id="cb66-110"><a href="#cb66-110"></a><span class="fu">### 4.2.1 Exploring relationships</span></span>
<span id="cb66-111"><a href="#cb66-111"></a></span>
<span id="cb66-112"><a href="#cb66-112"></a>Exploring univariate patterns often sparks follow-up questions about relationships between 2+ variables. Often, but not always, variables take on specific roles:</span>
<span id="cb66-113"><a href="#cb66-113"></a></span>
<span id="cb66-114"><a href="#cb66-114"></a><span class="ss">-   </span>response variable: the variable whose variability we would like to explain (time to complete a hike)</span>
<span id="cb66-115"><a href="#cb66-115"></a><span class="ss">-   </span>predictors: variables that might explain some of the variability in the response (a hike's elevation or length)</span>
<span id="cb66-116"><a href="#cb66-116"></a></span>
<span id="cb66-117"><a href="#cb66-117"></a>Visualizations can help explore:</span>
<span id="cb66-118"><a href="#cb66-118"></a></span>
<span id="cb66-119"><a href="#cb66-119"></a><span class="ss">-   </span>relationship trends (direction and form)</span>
<span id="cb66-120"><a href="#cb66-120"></a><span class="ss">-   </span>relationship strength (degree of variability from the trend)</span>
<span id="cb66-121"><a href="#cb66-121"></a><span class="ss">-   </span>outliers in the relationship</span>
<span id="cb66-122"><a href="#cb66-122"></a></span>
<span id="cb66-123"><a href="#cb66-123"></a><span class="fu">#### Example 3</span></span>
<span id="cb66-124"><a href="#cb66-124"></a></span>
<span id="cb66-125"><a href="#cb66-125"></a>For each pair of variables below, sketch on paper a visualization of their relationship. Focus on general viz process, don't worry about the exact details. The data here are totally made up.</span>
<span id="cb66-126"><a href="#cb66-126"></a></span>
<span id="cb66-127"><a href="#cb66-127"></a>**3pm temperature (response) vs 9am temperature (predictor)**</span>
<span id="cb66-128"><a href="#cb66-128"></a></span>
<span id="cb66-131"><a href="#cb66-131"></a><span class="in">```{r}</span></span>
<span id="cb66-132"><a href="#cb66-132"></a><span class="fu">data.frame</span>(<span class="at">temp_3pm =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">26</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">15</span>), <span class="at">temp_9am =</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">18</span>, <span class="dv">15</span>, <span class="dv">13</span>, <span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb66-133"><a href="#cb66-133"></a><span class="in">```</span></span>
<span id="cb66-134"><a href="#cb66-134"></a></span>
<span id="cb66-135"><a href="#cb66-135"></a>**3pm temperature (response) vs location (predictor)**</span>
<span id="cb66-136"><a href="#cb66-136"></a></span>
<span id="cb66-139"><a href="#cb66-139"></a><span class="in">```{r}</span></span>
<span id="cb66-140"><a href="#cb66-140"></a>weather <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">temp_3pm =</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">26</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">0</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">57</span>, <span class="dv">44</span>, <span class="dv">51</span>, <span class="dv">75</span>),</span>
<span id="cb66-141"><a href="#cb66-141"></a>                     <span class="at">location =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>), <span class="at">each =</span> <span class="dv">6</span>))</span>
<span id="cb66-142"><a href="#cb66-142"></a>weather</span>
<span id="cb66-143"><a href="#cb66-143"></a><span class="in">```</span></span>
<span id="cb66-144"><a href="#cb66-144"></a></span>
<span id="cb66-145"><a href="#cb66-145"></a>Think: How might we modify the below density plot of temp_3pm to distinguish between locations?</span>
<span id="cb66-146"><a href="#cb66-146"></a></span>
<span id="cb66-149"><a href="#cb66-149"></a><span class="in">```{r}</span></span>
<span id="cb66-150"><a href="#cb66-150"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp_3pm)) <span class="sc">+</span></span>
<span id="cb66-151"><a href="#cb66-151"></a>      <span class="fu">geom_density</span>()</span>
<span id="cb66-152"><a href="#cb66-152"></a><span class="in">```</span></span>
<span id="cb66-153"><a href="#cb66-153"></a></span>
<span id="cb66-154"><a href="#cb66-154"></a>**rain_today (the response) and location (the predictor)**</span>
<span id="cb66-155"><a href="#cb66-155"></a></span>
<span id="cb66-158"><a href="#cb66-158"></a><span class="in">```{r}</span></span>
<span id="cb66-159"><a href="#cb66-159"></a>weather <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">rain_today =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>, <span class="st">"yes"</span>, <span class="st">"no"</span>, <span class="st">"yes"</span>),</span>
<span id="cb66-160"><a href="#cb66-160"></a>                      <span class="at">location =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"A"</span>, <span class="dv">7</span>), <span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">5</span>)))</span>
<span id="cb66-161"><a href="#cb66-161"></a>weather</span>
<span id="cb66-162"><a href="#cb66-162"></a><span class="in">```</span></span>
<span id="cb66-163"><a href="#cb66-163"></a></span>
<span id="cb66-164"><a href="#cb66-164"></a>Think: How might we modify the below bar plot of location to distinguish between days on which it did or didn't rain?</span>
<span id="cb66-165"><a href="#cb66-165"></a></span>
<span id="cb66-168"><a href="#cb66-168"></a><span class="in">```{r}</span></span>
<span id="cb66-169"><a href="#cb66-169"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location)) <span class="sc">+</span></span>
<span id="cb66-170"><a href="#cb66-170"></a>      <span class="fu">geom_bar</span>()</span>
<span id="cb66-171"><a href="#cb66-171"></a><span class="in">```</span></span>
<span id="cb66-172"><a href="#cb66-172"></a></span>
<span id="cb66-173"><a href="#cb66-173"></a><span class="fu">### 4.2.2 General guidance for building bivariate plots</span></span>
<span id="cb66-174"><a href="#cb66-174"></a></span>
<span id="cb66-175"><a href="#cb66-175"></a>As with univariate plots, an appropriate visualization for the relationship between 2 variables depends upon whether the variables are quantitative or categorical. In general:</span>
<span id="cb66-176"><a href="#cb66-176"></a></span>
<span id="cb66-177"><a href="#cb66-177"></a><span class="ss">-   </span>Each quantitative variable requires a new axis (or a quantitative scale if we run out of axes).</span>
<span id="cb66-178"><a href="#cb66-178"></a><span class="ss">-   </span>Each categorical variable requires a new way to "group" the graphic (eg: using colors, shapes, separate facets, etc)</span>
<span id="cb66-179"><a href="#cb66-179"></a><span class="ss">-   </span>For visualizations in which overlap in glyphs or plots obscures the patterns, try faceting or transparency.</span>
<span id="cb66-180"><a href="#cb66-180"></a></span>
<span id="cb66-181"><a href="#cb66-181"></a><span class="fu">## 4.3 Exercises</span></span>
<span id="cb66-182"><a href="#cb66-182"></a></span>
<span id="cb66-183"><a href="#cb66-183"></a>Github user Tony McGovern has compiled and made available 2020/2016/2012 presidential election results for most of 3000+ U.S. counties, except Alaska.</span>
<span id="cb66-184"><a href="#cb66-184"></a></span>
<span id="cb66-185"><a href="#cb66-185"></a>A wrangled version of this data, is imported below, after being combined with:</span>
<span id="cb66-186"><a href="#cb66-186"></a></span>
<span id="cb66-187"><a href="#cb66-187"></a><span class="ss">-   </span>2013 county-level demographics from the df_county_demographics data set from the choroplethr R package</span>
<span id="cb66-188"><a href="#cb66-188"></a><span class="ss">-   </span>historical voting trends in the state in which the county falls (from https://www.270towin.com/content/blue-and-red-states):</span>
<span id="cb66-189"><a href="#cb66-189"></a><span class="ss">    -   </span>red = consistently Republican</span>
<span id="cb66-190"><a href="#cb66-190"></a><span class="ss">    -   </span>blue = consistently Democratic</span>
<span id="cb66-191"><a href="#cb66-191"></a><span class="ss">    -   </span>purple = something in between</span>
<span id="cb66-192"><a href="#cb66-192"></a></span>
<span id="cb66-195"><a href="#cb66-195"></a><span class="in">```{r}</span></span>
<span id="cb66-196"><a href="#cb66-196"></a><span class="co"># Load data</span></span>
<span id="cb66-197"><a href="#cb66-197"></a>elections <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/election_2020_county.csv"</span>)</span>
<span id="cb66-198"><a href="#cb66-198"></a></span>
<span id="cb66-199"><a href="#cb66-199"></a><span class="co"># Check it out</span></span>
<span id="cb66-200"><a href="#cb66-200"></a><span class="fu">head</span>(elections)</span>
<span id="cb66-201"><a href="#cb66-201"></a><span class="in">```</span></span>
<span id="cb66-202"><a href="#cb66-202"></a></span>
<span id="cb66-203"><a href="#cb66-203"></a>We'll use this data to explore voting outcomes within the U.S.'s 2-party system. Here's a list of candidates by year:</span>
<span id="cb66-204"><a href="#cb66-204"></a></span>
<span id="cb66-205"><a href="#cb66-205"></a>| year | Republican candidate | Democratic candidate |</span>
<span id="cb66-206"><a href="#cb66-206"></a>|------|---------------------|----------------------|</span>
<span id="cb66-207"><a href="#cb66-207"></a>| 2020 | Donald Trump        | Joe Biden            |</span>
<span id="cb66-208"><a href="#cb66-208"></a>| 2016 | Donald Trump        | Hillary Clinton      |</span>
<span id="cb66-209"><a href="#cb66-209"></a>| 2012 | Mitt Romney         | Barack Obama         |</span>
<span id="cb66-210"><a href="#cb66-210"></a></span>
<span id="cb66-211"><a href="#cb66-211"></a><span class="fu">### Exercise 0: Review</span></span>
<span id="cb66-212"><a href="#cb66-212"></a></span>
<span id="cb66-213"><a href="#cb66-213"></a><span class="fu">#### Part a</span></span>
<span id="cb66-214"><a href="#cb66-214"></a></span>
<span id="cb66-215"><a href="#cb66-215"></a>How many, or roughly what percent, of the 3000+ counties did the Republican candidate win in 2020?</span>
<span id="cb66-216"><a href="#cb66-216"></a></span>
<span id="cb66-217"><a href="#cb66-217"></a><span class="ss">-   </span>Take a guess.</span>
<span id="cb66-218"><a href="#cb66-218"></a><span class="ss">-   </span>Then make a plot of the winner variable.</span>
<span id="cb66-219"><a href="#cb66-219"></a><span class="ss">-   </span>Then discuss what follow-up questions you might have (and that our data might help us answer).</span>
<span id="cb66-220"><a href="#cb66-220"></a></span>
<span id="cb66-223"><a href="#cb66-223"></a><span class="in">```{r}</span></span>
<span id="cb66-224"><a href="#cb66-224"></a><span class="co"># Make a bar plot of the winner variable</span></span>
<span id="cb66-225"><a href="#cb66-225"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-226"><a href="#cb66-226"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb66-227"><a href="#cb66-227"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 Election Winners by County"</span>,</span>
<span id="cb66-228"><a href="#cb66-228"></a>       <span class="at">x =</span> <span class="st">"Winner"</span>,</span>
<span id="cb66-229"><a href="#cb66-229"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb66-230"><a href="#cb66-230"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-231"><a href="#cb66-231"></a><span class="in">```</span></span>
<span id="cb66-232"><a href="#cb66-232"></a></span>
<span id="cb66-233"><a href="#cb66-233"></a>**Answer**: Based on the plot, it appears that the Republican candidate won in approximately 2,500 counties, which is roughly 80-85% of the total counties. </span>
<span id="cb66-234"><a href="#cb66-234"></a></span>
<span id="cb66-235"><a href="#cb66-235"></a>Follow-up questions might include:</span>
<span id="cb66-236"><a href="#cb66-236"></a><span class="ss">- </span>How does this compare to the number of counties won in previous elections (2016, 2012)?</span>
<span id="cb66-237"><a href="#cb66-237"></a><span class="ss">- </span>Are there regional patterns in which counties vote Republican vs Democratic?</span>
<span id="cb66-238"><a href="#cb66-238"></a><span class="ss">- </span>Do demographic factors like population density, income, education, etc. correlate with voting patterns?</span>
<span id="cb66-239"><a href="#cb66-239"></a><span class="ss">- </span>How does the number of counties won relate to the popular vote and electoral college results?</span>
<span id="cb66-240"><a href="#cb66-240"></a></span>
<span id="cb66-241"><a href="#cb66-241"></a><span class="fu">#### Part b</span></span>
<span id="cb66-242"><a href="#cb66-242"></a></span>
<span id="cb66-243"><a href="#cb66-243"></a>The repub_pct_20 variable provides more detail about the Republican support in each county. Construct a plot of repub_pct_20.</span>
<span id="cb66-244"><a href="#cb66-244"></a></span>
<span id="cb66-247"><a href="#cb66-247"></a><span class="in">```{r}</span></span>
<span id="cb66-248"><a href="#cb66-248"></a><span class="co"># Histogram of Republican support in 2020</span></span>
<span id="cb66-249"><a href="#cb66-249"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-250"><a href="#cb66-250"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"red"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb66-251"><a href="#cb66-251"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Republican Support in 2020 by County"</span>,</span>
<span id="cb66-252"><a href="#cb66-252"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2020)"</span>,</span>
<span id="cb66-253"><a href="#cb66-253"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb66-254"><a href="#cb66-254"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-255"><a href="#cb66-255"></a></span>
<span id="cb66-256"><a href="#cb66-256"></a><span class="co"># Density plot of Republican support in 2020</span></span>
<span id="cb66-257"><a href="#cb66-257"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-258"><a href="#cb66-258"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"red"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-259"><a href="#cb66-259"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Density of Republican Support in 2020 by County"</span>,</span>
<span id="cb66-260"><a href="#cb66-260"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2020)"</span>,</span>
<span id="cb66-261"><a href="#cb66-261"></a>       <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb66-262"><a href="#cb66-262"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-263"><a href="#cb66-263"></a><span class="in">```</span></span>
<span id="cb66-264"><a href="#cb66-264"></a></span>
<span id="cb66-265"><a href="#cb66-265"></a>Notice that the distribution of Republican support from county to county is slightly left skewed or negatively skewed.</span>
<span id="cb66-266"><a href="#cb66-266"></a></span>
<span id="cb66-267"><a href="#cb66-267"></a>Follow-up questions:</span>
<span id="cb66-268"><a href="#cb66-268"></a><span class="ss">- </span>Why is the distribution of Republican support left-skewed?</span>
<span id="cb66-269"><a href="#cb66-269"></a><span class="ss">- </span>How does population density relate to the Republican vote share?</span>
<span id="cb66-270"><a href="#cb66-270"></a><span class="ss">- </span>Are there regional patterns in Republican support?</span>
<span id="cb66-271"><a href="#cb66-271"></a><span class="ss">- </span>How has Republican support in counties changed from 2016 to 2020?</span>
<span id="cb66-272"><a href="#cb66-272"></a></span>
<span id="cb66-273"><a href="#cb66-273"></a><span class="fu">### Exercise 1: Quantitative vs Quantitative Intuition Check</span></span>
<span id="cb66-274"><a href="#cb66-274"></a></span>
<span id="cb66-275"><a href="#cb66-275"></a>Below is a scatterplot of the Republican support in 2020 vs 2016. Notice that:</span>
<span id="cb66-276"><a href="#cb66-276"></a></span>
<span id="cb66-277"><a href="#cb66-277"></a><span class="ss">-   </span>both variables are quantitative, and get their own axes</span>
<span id="cb66-278"><a href="#cb66-278"></a><span class="ss">-   </span>the response variable is on the y-axis, demonstrating how repub_pct_20 might be predicted by repub_pct_16, not vice versa</span>
<span id="cb66-279"><a href="#cb66-279"></a></span>
<span id="cb66-280"><a href="#cb66-280"></a>Try to replicate this using ggplot(). THINK:</span>
<span id="cb66-281"><a href="#cb66-281"></a></span>
<span id="cb66-282"><a href="#cb66-282"></a><span class="ss">-   </span>What info do you need to set up the canvas?</span>
<span id="cb66-283"><a href="#cb66-283"></a><span class="ss">-   </span>What geometric layer (geom_???) might add these dots / points for each county? We haven't learned this yet, just take some guesses.</span>
<span id="cb66-284"><a href="#cb66-284"></a></span>
<span id="cb66-287"><a href="#cb66-287"></a><span class="in">```{r}</span></span>
<span id="cb66-288"><a href="#cb66-288"></a><span class="co"># Create a scatterplot of Republican support in 2020 vs 2016</span></span>
<span id="cb66-289"><a href="#cb66-289"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_16, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-290"><a href="#cb66-290"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb66-291"><a href="#cb66-291"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support in 2020 vs 2016 by County"</span>,</span>
<span id="cb66-292"><a href="#cb66-292"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2016)"</span>,</span>
<span id="cb66-293"><a href="#cb66-293"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb66-294"><a href="#cb66-294"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-295"><a href="#cb66-295"></a><span class="in">```</span></span>
<span id="cb66-296"><a href="#cb66-296"></a></span>
<span id="cb66-297"><a href="#cb66-297"></a><span class="fu">### Exercise 2: 2 Quantitiative Variables</span></span>
<span id="cb66-298"><a href="#cb66-298"></a></span>
<span id="cb66-299"><a href="#cb66-299"></a>Run each chunk below to build up a a scatterplot of repub_pct_20 vs repub_pct_16 with different glyphs representing each county. Address or think about any prompts in the comments (#).</span>
<span id="cb66-300"><a href="#cb66-300"></a></span>
<span id="cb66-303"><a href="#cb66-303"></a><span class="in">```{r}</span></span>
<span id="cb66-304"><a href="#cb66-304"></a><span class="co"># Set up the plotting frame</span></span>
<span id="cb66-305"><a href="#cb66-305"></a><span class="co"># How does this differ than the frame for our histogram of repub_pct_20 alone?</span></span>
<span id="cb66-306"><a href="#cb66-306"></a><span class="co"># ANSWER: We now have two variables mapped to x and y axes, instead of just one variable on the x-axis</span></span>
<span id="cb66-307"><a href="#cb66-307"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16))</span>
<span id="cb66-308"><a href="#cb66-308"></a><span class="in">```</span></span>
<span id="cb66-309"><a href="#cb66-309"></a></span>
<span id="cb66-312"><a href="#cb66-312"></a><span class="in">```{r}</span></span>
<span id="cb66-313"><a href="#cb66-313"></a><span class="co"># Add a layer of points for each county</span></span>
<span id="cb66-314"><a href="#cb66-314"></a><span class="co"># Take note of the geom!</span></span>
<span id="cb66-315"><a href="#cb66-315"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-316"><a href="#cb66-316"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb66-317"><a href="#cb66-317"></a><span class="in">```</span></span>
<span id="cb66-318"><a href="#cb66-318"></a></span>
<span id="cb66-321"><a href="#cb66-321"></a><span class="in">```{r}</span></span>
<span id="cb66-322"><a href="#cb66-322"></a><span class="co"># Change the shape of the points</span></span>
<span id="cb66-323"><a href="#cb66-323"></a><span class="co"># What happens if you change the shape to another number?</span></span>
<span id="cb66-324"><a href="#cb66-324"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-325"><a href="#cb66-325"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">3</span>)</span>
<span id="cb66-326"><a href="#cb66-326"></a><span class="in">```</span></span>
<span id="cb66-327"><a href="#cb66-327"></a></span>
<span id="cb66-330"><a href="#cb66-330"></a><span class="in">```{r}</span></span>
<span id="cb66-331"><a href="#cb66-331"></a><span class="co"># Modify the code to make the points "orange"</span></span>
<span id="cb66-332"><a href="#cb66-332"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-333"><a href="#cb66-333"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"orange"</span>)</span>
<span id="cb66-334"><a href="#cb66-334"></a><span class="in">```</span></span>
<span id="cb66-335"><a href="#cb66-335"></a></span>
<span id="cb66-338"><a href="#cb66-338"></a><span class="in">```{r}</span></span>
<span id="cb66-339"><a href="#cb66-339"></a><span class="co"># Add a layer that represents each county by the state it's in</span></span>
<span id="cb66-340"><a href="#cb66-340"></a><span class="co"># Take note of the geom and the info it needs to run!</span></span>
<span id="cb66-341"><a href="#cb66-341"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-342"><a href="#cb66-342"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> state_abbr))</span>
<span id="cb66-343"><a href="#cb66-343"></a><span class="in">```</span></span>
<span id="cb66-344"><a href="#cb66-344"></a></span>
<span id="cb66-345"><a href="#cb66-345"></a><span class="fu">### Exercise 3: Reflect</span></span>
<span id="cb66-346"><a href="#cb66-346"></a></span>
<span id="cb66-347"><a href="#cb66-347"></a>Summarize the relationship between the Republican support in 2020 and 2016. Be sure to comment on:</span>
<span id="cb66-348"><a href="#cb66-348"></a></span>
<span id="cb66-349"><a href="#cb66-349"></a><span class="ss">-   </span>the strength of the relationship (weak/moderate/strong)</span>
<span id="cb66-350"><a href="#cb66-350"></a><span class="ss">-   </span>the direction of the relationship (positive/negative)</span>
<span id="cb66-351"><a href="#cb66-351"></a><span class="ss">-   </span>outliers (in what state do counties deviate from the national trend? Any ideas why this might be the case?)</span>
<span id="cb66-352"><a href="#cb66-352"></a></span>
<span id="cb66-353"><a href="#cb66-353"></a>**Answer**: The relationship between Republican support in 2020 and 2016 is very strong and positive - counties that had high Republican support in 2016 generally also had high Republican support in 2020. The points closely follow a linear pattern with most points falling near the diagonal line.</span>
<span id="cb66-354"><a href="#cb66-354"></a></span>
<span id="cb66-355"><a href="#cb66-355"></a>Looking at the text plot, there appear to be some outliers in states like Utah (UT) where Republican support decreased from 2016 to 2020, and in Texas (TX) where Republican support increased in some counties. These deviations might be due to factors like changing demographics, candidate-specific factors, or local political developments between the two elections.</span>
<span id="cb66-356"><a href="#cb66-356"></a></span>
<span id="cb66-357"><a href="#cb66-357"></a><span class="fu">### Exercise 4: Visualizing trend</span></span>
<span id="cb66-358"><a href="#cb66-358"></a></span>
<span id="cb66-359"><a href="#cb66-359"></a>The trend of the relationship between repub_pct_20 and repub_pct_16 is clearly positive and (mostly) linear. We can highlight this trend by adding a model "smooth" to the plot:</span>
<span id="cb66-360"><a href="#cb66-360"></a></span>
<span id="cb66-363"><a href="#cb66-363"></a><span class="in">```{r}</span></span>
<span id="cb66-364"><a href="#cb66-364"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-365"><a href="#cb66-365"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb66-366"><a href="#cb66-366"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb66-367"><a href="#cb66-367"></a><span class="in">```</span></span>
<span id="cb66-368"><a href="#cb66-368"></a></span>
<span id="cb66-369"><a href="#cb66-369"></a><span class="fu">#### Part a</span></span>
<span id="cb66-370"><a href="#cb66-370"></a></span>
<span id="cb66-371"><a href="#cb66-371"></a>Construct a new plot that contains the model smooth but does not include the individual point glyphs.</span>
<span id="cb66-372"><a href="#cb66-372"></a></span>
<span id="cb66-375"><a href="#cb66-375"></a><span class="in">```{r}</span></span>
<span id="cb66-376"><a href="#cb66-376"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-377"><a href="#cb66-377"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb66-378"><a href="#cb66-378"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trend in Republican Support: 2020 vs 2016"</span>,</span>
<span id="cb66-379"><a href="#cb66-379"></a>       <span class="at">x =</span> <span class="st">"Republican Percentage (2016)"</span>,</span>
<span id="cb66-380"><a href="#cb66-380"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb66-381"><a href="#cb66-381"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-382"><a href="#cb66-382"></a><span class="in">```</span></span>
<span id="cb66-383"><a href="#cb66-383"></a></span>
<span id="cb66-384"><a href="#cb66-384"></a><span class="fu">#### Part b</span></span>
<span id="cb66-385"><a href="#cb66-385"></a></span>
<span id="cb66-386"><a href="#cb66-386"></a>By default, geom_smooth() adds a smooth, localized model line. To examine the "best" linear model, we can specify method = "lm". It's pretty similar in this example!</span>
<span id="cb66-387"><a href="#cb66-387"></a></span>
<span id="cb66-390"><a href="#cb66-390"></a><span class="in">```{r}</span></span>
<span id="cb66-391"><a href="#cb66-391"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> repub_pct_16)) <span class="sc">+</span></span>
<span id="cb66-392"><a href="#cb66-392"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb66-393"><a href="#cb66-393"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span>
<span id="cb66-394"><a href="#cb66-394"></a><span class="in">```</span></span>
<span id="cb66-395"><a href="#cb66-395"></a></span>
<span id="cb66-396"><a href="#cb66-396"></a><span class="fu">### Exercise 5: Your Turn</span></span>
<span id="cb66-397"><a href="#cb66-397"></a></span>
<span id="cb66-398"><a href="#cb66-398"></a>To examine how the 2020 results are related to some county demographics, construct scatterplots of repub_pct_20 vs median_rent, and repub_pct_20 vs median_age. Summarize the relationship between these two variables and comment on which is the better predictor of repub_pct_20, median_rent or median_age.</span>
<span id="cb66-399"><a href="#cb66-399"></a></span>
<span id="cb66-402"><a href="#cb66-402"></a><span class="in">```{r}</span></span>
<span id="cb66-403"><a href="#cb66-403"></a><span class="co"># Scatterplot of repub_pct_20 vs median_rent</span></span>
<span id="cb66-404"><a href="#cb66-404"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> median_rent, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-405"><a href="#cb66-405"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-406"><a href="#cb66-406"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb66-407"><a href="#cb66-407"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support vs Median Rent"</span>,</span>
<span id="cb66-408"><a href="#cb66-408"></a>       <span class="at">x =</span> <span class="st">"Median Rent ($)"</span>,</span>
<span id="cb66-409"><a href="#cb66-409"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb66-410"><a href="#cb66-410"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-411"><a href="#cb66-411"></a><span class="in">```</span></span>
<span id="cb66-412"><a href="#cb66-412"></a></span>
<span id="cb66-415"><a href="#cb66-415"></a><span class="in">```{r}</span></span>
<span id="cb66-416"><a href="#cb66-416"></a><span class="co"># Scatterplot of repub_pct_20 vs median_age</span></span>
<span id="cb66-417"><a href="#cb66-417"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-418"><a href="#cb66-418"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-419"><a href="#cb66-419"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb66-420"><a href="#cb66-420"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Republican Support vs Median Age"</span>,</span>
<span id="cb66-421"><a href="#cb66-421"></a>       <span class="at">x =</span> <span class="st">"Median Age (years)"</span>,</span>
<span id="cb66-422"><a href="#cb66-422"></a>       <span class="at">y =</span> <span class="st">"Republican Percentage (2020)"</span>) <span class="sc">+</span></span>
<span id="cb66-423"><a href="#cb66-423"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-424"><a href="#cb66-424"></a><span class="in">```</span></span>
<span id="cb66-425"><a href="#cb66-425"></a></span>
<span id="cb66-426"><a href="#cb66-426"></a>**Answer**: The scatterplot of Republican support versus median rent shows a moderate to strong negative relationship - as median rent increases, Republican support tends to decrease. This likely reflects the urban-rural divide in American politics, with urban areas having higher rents and tending to vote more Democratic.</span>
<span id="cb66-427"><a href="#cb66-427"></a></span>
<span id="cb66-428"><a href="#cb66-428"></a>The scatterplot of Republican support versus median age shows a weaker positive relationship - counties with higher median ages tend to have slightly higher Republican support, but the relationship isn't as strong as with median rent.</span>
<span id="cb66-429"><a href="#cb66-429"></a></span>
<span id="cb66-430"><a href="#cb66-430"></a>Based on these visualizations, median rent appears to be a better predictor of Republican support than median age, as the relationship is stronger and the points show less scatter around the trend line.</span>
<span id="cb66-431"><a href="#cb66-431"></a></span>
<span id="cb66-432"><a href="#cb66-432"></a><span class="fu">### Exercise 6: A Sad Scatterplot</span></span>
<span id="cb66-433"><a href="#cb66-433"></a></span>
<span id="cb66-434"><a href="#cb66-434"></a>Next, let's explore the relationship between a county's 2020 Republican support repub_pct_20 and the historical political trends in its state. In this case repub_pct_20 is quantitative, but historical is categorical. Explain why a scatterplot might not be an effective visualization for exploring this relationship. (What questions does / doesn't it help answer?)</span>
<span id="cb66-435"><a href="#cb66-435"></a></span>
<span id="cb66-438"><a href="#cb66-438"></a><span class="in">```{r}</span></span>
<span id="cb66-439"><a href="#cb66-439"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-440"><a href="#cb66-440"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb66-441"><a href="#cb66-441"></a><span class="in">```</span></span>
<span id="cb66-442"><a href="#cb66-442"></a></span>
<span id="cb66-443"><a href="#cb66-443"></a>**Answer**: This scatterplot is not very effective because:</span>
<span id="cb66-444"><a href="#cb66-444"></a></span>
<span id="cb66-445"><a href="#cb66-445"></a><span class="ss">1. </span>The x-axis (historical) is categorical with only three values (blue, purple, red), so all points are stacked in three vertical columns, making it hard to see the distribution within each category.</span>
<span id="cb66-446"><a href="#cb66-446"></a></span>
<span id="cb66-447"><a href="#cb66-447"></a><span class="ss">2. </span>There is significant overplotting - many points are drawn on top of each other, making it impossible to see the density of points at various levels of Republican support within each category.</span>
<span id="cb66-448"><a href="#cb66-448"></a></span>
<span id="cb66-449"><a href="#cb66-449"></a><span class="ss">3. </span>The visualization doesn't show us how many counties fall into each historical category.</span>
<span id="cb66-450"><a href="#cb66-450"></a></span>
<span id="cb66-451"><a href="#cb66-451"></a><span class="ss">4. </span>It's difficult to compare the central tendency and spread of Republican support across the three categories.</span>
<span id="cb66-452"><a href="#cb66-452"></a></span>
<span id="cb66-453"><a href="#cb66-453"></a>This plot can tell us the range of Republican support within each category, but it doesn't effectively show us the distribution patterns or allow easy comparison between categories.</span>
<span id="cb66-454"><a href="#cb66-454"></a></span>
<span id="cb66-455"><a href="#cb66-455"></a><span class="fu">### Exercise 7: Quantitative vs Categorical – Violins &amp; Boxes</span></span>
<span id="cb66-456"><a href="#cb66-456"></a></span>
<span id="cb66-457"><a href="#cb66-457"></a>Though the above scatterplot did group the counties by historical category, it's nearly impossible to pick out meaningful patterns in 2020 Republican support in each category. Let's try adding 2 different geom layers to the frame:</span>
<span id="cb66-458"><a href="#cb66-458"></a></span>
<span id="cb66-461"><a href="#cb66-461"></a><span class="in">```{r}</span></span>
<span id="cb66-462"><a href="#cb66-462"></a><span class="co"># Side-by-side violin plots</span></span>
<span id="cb66-463"><a href="#cb66-463"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-464"><a href="#cb66-464"></a>  <span class="fu">geom_violin</span>()</span>
<span id="cb66-465"><a href="#cb66-465"></a><span class="in">```</span></span>
<span id="cb66-466"><a href="#cb66-466"></a></span>
<span id="cb66-469"><a href="#cb66-469"></a><span class="in">```{r}</span></span>
<span id="cb66-470"><a href="#cb66-470"></a><span class="co"># Side-by-side boxplots</span></span>
<span id="cb66-471"><a href="#cb66-471"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">y =</span> repub_pct_20, <span class="at">x =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-472"><a href="#cb66-472"></a>  <span class="fu">geom_boxplot</span>()</span>
<span id="cb66-473"><a href="#cb66-473"></a><span class="in">```</span></span>
<span id="cb66-474"><a href="#cb66-474"></a></span>
<span id="cb66-475"><a href="#cb66-475"></a>Box plots are constructed from five numbers - the minimum, 25th percentile, median, 75th percentile, and maximum value of a quantitative variable.</span>
<span id="cb66-476"><a href="#cb66-476"></a></span>
<span id="cb66-477"><a href="#cb66-477"></a>REFLECT:</span>
<span id="cb66-478"><a href="#cb66-478"></a></span>
<span id="cb66-479"><a href="#cb66-479"></a>Summarize what you've learned about the 2020 Republican county-level support within and between red/purple/blue states.</span>
<span id="cb66-480"><a href="#cb66-480"></a></span>
<span id="cb66-481"><a href="#cb66-481"></a>**Answer**: The violin and box plots reveal clear patterns in Republican support across counties in different types of states:</span>
<span id="cb66-482"><a href="#cb66-482"></a></span>
<span id="cb66-483"><a href="#cb66-483"></a><span class="ss">1. </span>Counties in red states have the highest Republican support overall, with a median around 70-75%, and most counties falling between 60-85%.</span>
<span id="cb66-484"><a href="#cb66-484"></a></span>
<span id="cb66-485"><a href="#cb66-485"></a><span class="ss">2. </span>Counties in purple states show a wider spread of Republican support, with a median around 55-60% and more variability.</span>
<span id="cb66-486"><a href="#cb66-486"></a></span>
<span id="cb66-487"><a href="#cb66-487"></a><span class="ss">3. </span>Counties in blue states have the lowest Republican support overall, with a median around 40-45%, but interestingly have a bimodal distribution as shown in the violin plot - there are clusters of counties with very low Republican support (likely urban areas) and others with moderate Republican support (likely rural areas).</span>
<span id="cb66-488"><a href="#cb66-488"></a></span>
<span id="cb66-489"><a href="#cb66-489"></a><span class="ss">4. </span>There's some overlap in Republican support levels across all three categories, showing that state-level trends don't completely determine county-level voting patterns.</span>
<span id="cb66-490"><a href="#cb66-490"></a></span>
<span id="cb66-491"><a href="#cb66-491"></a><span class="ss">5. </span>All three categories have outliers, showing that even in consistently blue states, some counties can be strongly Republican, and vice versa.</span>
<span id="cb66-492"><a href="#cb66-492"></a></span>
<span id="cb66-493"><a href="#cb66-493"></a><span class="fu">### Exercise 8: Quantitative vs Categorical – Intuition Check</span></span>
<span id="cb66-494"><a href="#cb66-494"></a></span>
<span id="cb66-495"><a href="#cb66-495"></a>We can also visualize the relationship between repub_pct_20 and historical using our familiar density plots. In the plot below, notice that we simply created a separate density plot for each historical category. (The plot itself is "bad" but we'll fix it below.) Try to adjust the code chunk below, which starts with a density plot of repub_pct_20 alone, to re-create this image.</span>
<span id="cb66-496"><a href="#cb66-496"></a></span>
<span id="cb66-499"><a href="#cb66-499"></a><span class="in">```{r}</span></span>
<span id="cb66-500"><a href="#cb66-500"></a><span class="co"># Original density plot of Republican support</span></span>
<span id="cb66-501"><a href="#cb66-501"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20)) <span class="sc">+</span></span>
<span id="cb66-502"><a href="#cb66-502"></a>  <span class="fu">geom_density</span>()</span>
<span id="cb66-503"><a href="#cb66-503"></a></span>
<span id="cb66-504"><a href="#cb66-504"></a><span class="co"># Separate density plots by historical category</span></span>
<span id="cb66-505"><a href="#cb66-505"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-506"><a href="#cb66-506"></a>  <span class="fu">geom_density</span>()</span>
<span id="cb66-507"><a href="#cb66-507"></a><span class="in">```</span></span>
<span id="cb66-508"><a href="#cb66-508"></a></span>
<span id="cb66-509"><a href="#cb66-509"></a><span class="fu">### Exercise 9: Quantitative vs Categorical – Density Plots</span></span>
<span id="cb66-510"><a href="#cb66-510"></a></span>
<span id="cb66-511"><a href="#cb66-511"></a>Work through the chunks below and address the comments therein.</span>
<span id="cb66-512"><a href="#cb66-512"></a></span>
<span id="cb66-515"><a href="#cb66-515"></a><span class="in">```{r}</span></span>
<span id="cb66-516"><a href="#cb66-516"></a><span class="co"># Name two "bad" things about this plot</span></span>
<span id="cb66-517"><a href="#cb66-517"></a><span class="co"># 1. The colors don't match the category names (red, blue, purple)</span></span>
<span id="cb66-518"><a href="#cb66-518"></a><span class="co"># 2. The density plots completely overlap, making it hard to see all three distributions</span></span>
<span id="cb66-519"><a href="#cb66-519"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-520"><a href="#cb66-520"></a>  <span class="fu">geom_density</span>()</span>
<span id="cb66-521"><a href="#cb66-521"></a><span class="in">```</span></span>
<span id="cb66-522"><a href="#cb66-522"></a></span>
<span id="cb66-525"><a href="#cb66-525"></a><span class="in">```{r}</span></span>
<span id="cb66-526"><a href="#cb66-526"></a><span class="co"># What does scale_fill_manual do?</span></span>
<span id="cb66-527"><a href="#cb66-527"></a><span class="co"># It manually assigns specific colors to each category in the fill aesthetic</span></span>
<span id="cb66-528"><a href="#cb66-528"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-529"><a href="#cb66-529"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb66-530"><a href="#cb66-530"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span>
<span id="cb66-531"><a href="#cb66-531"></a><span class="in">```</span></span>
<span id="cb66-532"><a href="#cb66-532"></a></span>
<span id="cb66-535"><a href="#cb66-535"></a><span class="in">```{r}</span></span>
<span id="cb66-536"><a href="#cb66-536"></a><span class="co"># What does alpha = 0.5 do?</span></span>
<span id="cb66-537"><a href="#cb66-537"></a><span class="co"># It adds transparency to the fill colors, making it possible to see overlapping distributions</span></span>
<span id="cb66-538"><a href="#cb66-538"></a><span class="co"># Play around with different values of alpha, between 0 and 1</span></span>
<span id="cb66-539"><a href="#cb66-539"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-540"><a href="#cb66-540"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-541"><a href="#cb66-541"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span>
<span id="cb66-542"><a href="#cb66-542"></a><span class="in">```</span></span>
<span id="cb66-543"><a href="#cb66-543"></a></span>
<span id="cb66-546"><a href="#cb66-546"></a><span class="in">```{r}</span></span>
<span id="cb66-547"><a href="#cb66-547"></a><span class="co"># What does facet_wrap do?</span></span>
<span id="cb66-548"><a href="#cb66-548"></a><span class="co"># It creates separate panels (facets) for each category of the historical variable</span></span>
<span id="cb66-549"><a href="#cb66-549"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-550"><a href="#cb66-550"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb66-551"><a href="#cb66-551"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-552"><a href="#cb66-552"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> historical)</span>
<span id="cb66-553"><a href="#cb66-553"></a><span class="in">```</span></span>
<span id="cb66-554"><a href="#cb66-554"></a></span>
<span id="cb66-557"><a href="#cb66-557"></a><span class="in">```{r}</span></span>
<span id="cb66-558"><a href="#cb66-558"></a><span class="co"># Let's try a similar grouping strategy with a histogram instead of density plot.</span></span>
<span id="cb66-559"><a href="#cb66-559"></a><span class="co"># Why is this terrible?</span></span>
<span id="cb66-560"><a href="#cb66-560"></a><span class="co"># The bars from different categories stack on top of each other rather than showing side by side,</span></span>
<span id="cb66-561"><a href="#cb66-561"></a><span class="co"># making it impossible to compare the distributions properly</span></span>
<span id="cb66-562"><a href="#cb66-562"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> repub_pct_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-563"><a href="#cb66-563"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb66-564"><a href="#cb66-564"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>))</span>
<span id="cb66-565"><a href="#cb66-565"></a><span class="in">```</span></span>
<span id="cb66-566"><a href="#cb66-566"></a></span>
<span id="cb66-567"><a href="#cb66-567"></a><span class="fu">### Exercise 10</span></span>
<span id="cb66-568"><a href="#cb66-568"></a></span>
<span id="cb66-569"><a href="#cb66-569"></a>We've now learned 3 (of many) ways to visualize the relationship between a quantitative and categorical variable: side-by-side violins, boxplots, and density plots.</span>
<span id="cb66-570"><a href="#cb66-570"></a></span>
<span id="cb66-571"><a href="#cb66-571"></a><span class="ss">1. </span>Which do you like best?</span>
<span id="cb66-572"><a href="#cb66-572"></a></span>
<span id="cb66-573"><a href="#cb66-573"></a>**Answer**: I personally find boxplots most informative, as they clearly show the median and quartiles, making it easy to compare central tendency and spread across categories. However, density plots are better for seeing the full shape of the distribution, especially when distributions are bimodal or have unusual shapes.</span>
<span id="cb66-574"><a href="#cb66-574"></a></span>
<span id="cb66-575"><a href="#cb66-575"></a><span class="ss">2. </span>What is one pro of density plots relative to boxplots?</span>
<span id="cb66-576"><a href="#cb66-576"></a></span>
<span id="cb66-577"><a href="#cb66-577"></a>**Answer**: Density plots show the full shape of the distribution and can reveal features like bimodality or skewness that boxplots might miss. For example, the violin plot showed that blue states have a bimodal distribution of Republican support, which a boxplot wouldn't clearly show.</span>
<span id="cb66-578"><a href="#cb66-578"></a></span>
<span id="cb66-579"><a href="#cb66-579"></a><span class="ss">3. </span>What is one con of density plots relative to boxplots?</span>
<span id="cb66-580"><a href="#cb66-580"></a></span>
<span id="cb66-581"><a href="#cb66-581"></a>**Answer**: Density plots don't provide clear numerical summaries like the median and quartiles that boxplots show, making it harder to make precise comparisons between groups. They can also be more difficult for audiences unfamiliar with statistics to interpret.</span>
<span id="cb66-582"><a href="#cb66-582"></a></span>
<span id="cb66-583"><a href="#cb66-583"></a><span class="fu">### Exercise 11: Categorical vs Categorical – Intuition Check</span></span>
<span id="cb66-584"><a href="#cb66-584"></a></span>
<span id="cb66-585"><a href="#cb66-585"></a>Finally, let's simply explore who won each county in 2020 (winner_20) and how this breaks down by historical voting trends in the state. That is, let's explore the relationship between 2 categorical variables! Following the same themes as above, we can utilize grouping features such as fill/color or facets to distinguish between different categories of winner_20 and historical.</span>
<span id="cb66-586"><a href="#cb66-586"></a></span>
<span id="cb66-589"><a href="#cb66-589"></a><span class="in">```{r}</span></span>
<span id="cb66-590"><a href="#cb66-590"></a><span class="co"># Plot 1: Bar chart with historical categories filled by winner</span></span>
<span id="cb66-591"><a href="#cb66-591"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-592"><a href="#cb66-592"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-593"><a href="#cb66-593"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-594"><a href="#cb66-594"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb66-595"><a href="#cb66-595"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb66-596"><a href="#cb66-596"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb66-597"><a href="#cb66-597"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb66-598"><a href="#cb66-598"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-599"><a href="#cb66-599"></a><span class="in">```</span></span>
<span id="cb66-600"><a href="#cb66-600"></a></span>
<span id="cb66-603"><a href="#cb66-603"></a><span class="in">```{r}</span></span>
<span id="cb66-604"><a href="#cb66-604"></a><span class="co"># Plot 2: Bar chart with winner categories filled by historical</span></span>
<span id="cb66-605"><a href="#cb66-605"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20, <span class="at">fill =</span> historical)) <span class="sc">+</span></span>
<span id="cb66-606"><a href="#cb66-606"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-607"><a href="#cb66-607"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-608"><a href="#cb66-608"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Counties by 2020 Winner and Historical State Voting Pattern"</span>,</span>
<span id="cb66-609"><a href="#cb66-609"></a>       <span class="at">x =</span> <span class="st">"2020 Winner"</span>,</span>
<span id="cb66-610"><a href="#cb66-610"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb66-611"><a href="#cb66-611"></a>       <span class="at">fill =</span> <span class="st">"Historical Pattern"</span>) <span class="sc">+</span></span>
<span id="cb66-612"><a href="#cb66-612"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-613"><a href="#cb66-613"></a><span class="in">```</span></span>
<span id="cb66-614"><a href="#cb66-614"></a></span>
<span id="cb66-615"><a href="#cb66-615"></a><span class="fu">### Exercise 12: Categorical vs Categorical</span></span>
<span id="cb66-616"><a href="#cb66-616"></a></span>
<span id="cb66-617"><a href="#cb66-617"></a>Construct the following 4 bar plot visualizations.</span>
<span id="cb66-618"><a href="#cb66-618"></a></span>
<span id="cb66-621"><a href="#cb66-621"></a><span class="in">```{r}</span></span>
<span id="cb66-622"><a href="#cb66-622"></a><span class="co"># A stacked bar plot</span></span>
<span id="cb66-623"><a href="#cb66-623"></a><span class="co"># How are the "historical" and "winner_20" variables mapped to the plot, i.e. what roles do they play?</span></span>
<span id="cb66-624"><a href="#cb66-624"></a><span class="co"># historical = x-axis categories, winner_20 = fill colors within each bar</span></span>
<span id="cb66-625"><a href="#cb66-625"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-626"><a href="#cb66-626"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb66-627"><a href="#cb66-627"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-628"><a href="#cb66-628"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb66-629"><a href="#cb66-629"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb66-630"><a href="#cb66-630"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb66-631"><a href="#cb66-631"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb66-632"><a href="#cb66-632"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-633"><a href="#cb66-633"></a><span class="in">```</span></span>
<span id="cb66-634"><a href="#cb66-634"></a></span>
<span id="cb66-637"><a href="#cb66-637"></a><span class="in">```{r}</span></span>
<span id="cb66-638"><a href="#cb66-638"></a><span class="co"># A faceted bar plot</span></span>
<span id="cb66-639"><a href="#cb66-639"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-640"><a href="#cb66-640"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb66-641"><a href="#cb66-641"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> historical) <span class="sc">+</span></span>
<span id="cb66-642"><a href="#cb66-642"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"2020 Winners Faceted by Historical State Voting Pattern"</span>,</span>
<span id="cb66-643"><a href="#cb66-643"></a>       <span class="at">x =</span> <span class="st">"2020 Winner"</span>,</span>
<span id="cb66-644"><a href="#cb66-644"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>) <span class="sc">+</span></span>
<span id="cb66-645"><a href="#cb66-645"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-646"><a href="#cb66-646"></a><span class="in">```</span></span>
<span id="cb66-647"><a href="#cb66-647"></a></span>
<span id="cb66-650"><a href="#cb66-650"></a><span class="in">```{r}</span></span>
<span id="cb66-651"><a href="#cb66-651"></a><span class="co"># A side-by-side bar plot</span></span>
<span id="cb66-652"><a href="#cb66-652"></a><span class="co"># Note the new argument to geom_bar</span></span>
<span id="cb66-653"><a href="#cb66-653"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-654"><a href="#cb66-654"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb66-655"><a href="#cb66-655"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-656"><a href="#cb66-656"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"County Winners by Historical State Voting Pattern (Side-by-Side)"</span>,</span>
<span id="cb66-657"><a href="#cb66-657"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb66-658"><a href="#cb66-658"></a>       <span class="at">y =</span> <span class="st">"Number of Counties"</span>,</span>
<span id="cb66-659"><a href="#cb66-659"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb66-660"><a href="#cb66-660"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-661"><a href="#cb66-661"></a><span class="in">```</span></span>
<span id="cb66-662"><a href="#cb66-662"></a></span>
<span id="cb66-665"><a href="#cb66-665"></a><span class="in">```{r}</span></span>
<span id="cb66-666"><a href="#cb66-666"></a><span class="co"># A proportional bar plot</span></span>
<span id="cb66-667"><a href="#cb66-667"></a><span class="co"># Note the new argument to geom_bar</span></span>
<span id="cb66-668"><a href="#cb66-668"></a><span class="fu">ggplot</span>(elections, <span class="fu">aes</span>(<span class="at">x =</span> historical, <span class="at">fill =</span> winner_20)) <span class="sc">+</span></span>
<span id="cb66-669"><a href="#cb66-669"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb66-670"><a href="#cb66-670"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>)) <span class="sc">+</span></span>
<span id="cb66-671"><a href="#cb66-671"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of County Winners by Historical State Voting Pattern"</span>,</span>
<span id="cb66-672"><a href="#cb66-672"></a>       <span class="at">x =</span> <span class="st">"Historical State Voting Pattern"</span>,</span>
<span id="cb66-673"><a href="#cb66-673"></a>       <span class="at">y =</span> <span class="st">"Proportion of Counties"</span>,</span>
<span id="cb66-674"><a href="#cb66-674"></a>       <span class="at">fill =</span> <span class="st">"2020 Winner"</span>) <span class="sc">+</span></span>
<span id="cb66-675"><a href="#cb66-675"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-676"><a href="#cb66-676"></a><span class="in">```</span></span>
<span id="cb66-677"><a href="#cb66-677"></a></span>
<span id="cb66-678"><a href="#cb66-678"></a><span class="fu">#### Part a</span></span>
<span id="cb66-679"><a href="#cb66-679"></a></span>
<span id="cb66-680"><a href="#cb66-680"></a>Name one pro and one con of using the "proportional bar plot" instead of one of the other three options.</span>
<span id="cb66-681"><a href="#cb66-681"></a></span>
<span id="cb66-682"><a href="#cb66-682"></a>**Pro**: The proportional bar plot makes it easier to compare the relative proportion of Democratic vs Republican counties within each historical category, especially when the number of counties in each category varies significantly.</span>
<span id="cb66-683"><a href="#cb66-683"></a></span>
<span id="cb66-684"><a href="#cb66-684"></a>**Con**: The proportional bar plot loses information about the absolute number of counties in each category, making it impossible to tell which category has more counties overall.</span>
<span id="cb66-685"><a href="#cb66-685"></a></span>
<span id="cb66-686"><a href="#cb66-686"></a><span class="fu">#### Part b</span></span>
<span id="cb66-687"><a href="#cb66-687"></a></span>
<span id="cb66-688"><a href="#cb66-688"></a>What's your favorite bar plot from part and why?</span>
<span id="cb66-689"><a href="#cb66-689"></a></span>
<span id="cb66-690"><a href="#cb66-690"></a>**Answer**: I find the side-by-side bar plot (position = "dodge") most informative because it allows for easy comparison of both:</span>
<span id="cb66-691"><a href="#cb66-691"></a><span class="ss">1. </span>The absolute number of counties won by each party within each historical category</span>
<span id="cb66-692"><a href="#cb66-692"></a><span class="ss">2. </span>The relative numbers between categories</span>
<span id="cb66-693"><a href="#cb66-693"></a></span>
<span id="cb66-694"><a href="#cb66-694"></a>This makes it easier to see patterns while preserving information about the total counts, unlike the proportional plot which loses the absolute counts.</span>
<span id="cb66-695"><a href="#cb66-695"></a></span>
<span id="cb66-696"><a href="#cb66-696"></a><span class="fu">### Exercise 13: Practice</span></span>
<span id="cb66-697"><a href="#cb66-697"></a></span>
<span id="cb66-698"><a href="#cb66-698"></a>Import some daily weather data from a few locations in Australia:</span>
<span id="cb66-699"><a href="#cb66-699"></a></span>
<span id="cb66-702"><a href="#cb66-702"></a><span class="in">```{r}</span></span>
<span id="cb66-703"><a href="#cb66-703"></a>weather <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://mac-stat.github.io/data/weather_3_locations.csv"</span>)</span>
<span id="cb66-704"><a href="#cb66-704"></a><span class="fu">head</span>(weather)</span>
<span id="cb66-705"><a href="#cb66-705"></a><span class="in">```</span></span>
<span id="cb66-706"><a href="#cb66-706"></a></span>
<span id="cb66-707"><a href="#cb66-707"></a>Construct plots that address the research questions in each chunk. You might make multiple plots--there are many ways to do things!. However, don't just throw spaghetti at the wall.</span>
<span id="cb66-708"><a href="#cb66-708"></a></span>
<span id="cb66-709"><a href="#cb66-709"></a>Reflect before doing anything. What types of variables are these? How might you plot just 1 of the variables, and then tweak the plot to incorporate the other?</span>
<span id="cb66-710"><a href="#cb66-710"></a></span>
<span id="cb66-713"><a href="#cb66-713"></a><span class="in">```{r}</span></span>
<span id="cb66-714"><a href="#cb66-714"></a><span class="co"># How do 3pm temperatures (temp3pm) differ by location?</span></span>
<span id="cb66-715"><a href="#cb66-715"></a><span class="co"># temp3pm is quantitative, location is categorical</span></span>
<span id="cb66-716"><a href="#cb66-716"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">y =</span> temp3pm)) <span class="sc">+</span></span>
<span id="cb66-717"><a href="#cb66-717"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb66-718"><a href="#cb66-718"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"3PM Temperatures by Location"</span>,</span>
<span id="cb66-719"><a href="#cb66-719"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb66-720"><a href="#cb66-720"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>) <span class="sc">+</span></span>
<span id="cb66-721"><a href="#cb66-721"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-722"><a href="#cb66-722"></a></span>
<span id="cb66-723"><a href="#cb66-723"></a><span class="co"># Alternative visualization with violin plots</span></span>
<span id="cb66-724"><a href="#cb66-724"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">y =</span> temp3pm)) <span class="sc">+</span></span>
<span id="cb66-725"><a href="#cb66-725"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb66-726"><a href="#cb66-726"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of 3PM Temperatures by Location"</span>,</span>
<span id="cb66-727"><a href="#cb66-727"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb66-728"><a href="#cb66-728"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>) <span class="sc">+</span></span>
<span id="cb66-729"><a href="#cb66-729"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-730"><a href="#cb66-730"></a><span class="in">```</span></span>
<span id="cb66-731"><a href="#cb66-731"></a></span>
<span id="cb66-734"><a href="#cb66-734"></a><span class="in">```{r}</span></span>
<span id="cb66-735"><a href="#cb66-735"></a><span class="co"># How might we predict the 3pm temperature (temp3pm) by the 9am temperature (temp9am)?</span></span>
<span id="cb66-736"><a href="#cb66-736"></a><span class="co"># Both are quantitative variables</span></span>
<span id="cb66-737"><a href="#cb66-737"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp9am, <span class="at">y =</span> temp3pm, <span class="at">color =</span> location)) <span class="sc">+</span></span>
<span id="cb66-738"><a href="#cb66-738"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb66-739"><a href="#cb66-739"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb66-740"><a href="#cb66-740"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"3PM Temperature vs 9AM Temperature"</span>,</span>
<span id="cb66-741"><a href="#cb66-741"></a>       <span class="at">x =</span> <span class="st">"Temperature at 9AM (°C)"</span>,</span>
<span id="cb66-742"><a href="#cb66-742"></a>       <span class="at">y =</span> <span class="st">"Temperature at 3PM (°C)"</span>,</span>
<span id="cb66-743"><a href="#cb66-743"></a>       <span class="at">color =</span> <span class="st">"Location"</span>) <span class="sc">+</span></span>
<span id="cb66-744"><a href="#cb66-744"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-745"><a href="#cb66-745"></a><span class="in">```</span></span>
<span id="cb66-746"><a href="#cb66-746"></a></span>
<span id="cb66-749"><a href="#cb66-749"></a><span class="in">```{r}</span></span>
<span id="cb66-750"><a href="#cb66-750"></a><span class="co"># How do the number of rainy days (raintoday) differ by location?</span></span>
<span id="cb66-751"><a href="#cb66-751"></a><span class="co"># raintoday is categorical, location is categorical</span></span>
<span id="cb66-752"><a href="#cb66-752"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">fill =</span> raintoday)) <span class="sc">+</span></span>
<span id="cb66-753"><a href="#cb66-753"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb66-754"><a href="#cb66-754"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"skyblue"</span>, <span class="st">"navy"</span>)) <span class="sc">+</span></span>
<span id="cb66-755"><a href="#cb66-755"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of Rainy Days by Location"</span>,</span>
<span id="cb66-756"><a href="#cb66-756"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb66-757"><a href="#cb66-757"></a>       <span class="at">y =</span> <span class="st">"Proportion of Days"</span>,</span>
<span id="cb66-758"><a href="#cb66-758"></a>       <span class="at">fill =</span> <span class="st">"Rain Today"</span>) <span class="sc">+</span></span>
<span id="cb66-759"><a href="#cb66-759"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb66-760"><a href="#cb66-760"></a></span>
<span id="cb66-761"><a href="#cb66-761"></a><span class="co"># Alternative with counts instead of proportions</span></span>
<span id="cb66-762"><a href="#cb66-762"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> location, <span class="at">fill =</span> raintoday)) <span class="sc">+</span></span>
<span id="cb66-763"><a href="#cb66-763"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb66-764"><a href="#cb66-764"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"skyblue"</span>, <span class="st">"navy"</span>)) <span class="sc">+</span></span>
<span id="cb66-765"><a href="#cb66-765"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Number of Rainy vs Non-Rainy Days by Location"</span>,</span>
<span id="cb66-766"><a href="#cb66-766"></a>       <span class="at">x =</span> <span class="st">"Location"</span>,</span>
<span id="cb66-767"><a href="#cb66-767"></a>       <span class="at">y =</span> <span class="st">"Number of Days"</span>,</span>
<span id="cb66-768"><a href="#cb66-768"></a>       <span class="at">fill =</span> <span class="st">"Rain Today"</span>) <span class="sc">+</span></span>
<span id="cb66-769"><a href="#cb66-769"></a>  <span class="fu">theme_minimal</span>()</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>